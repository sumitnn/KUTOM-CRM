import{r as P,a as W,aA as z,j as e}from"./index-0HRytCPr.js";import{L as O,P as U,C as V,B as Y,A as G,a as H,b as Q,p as Z,c as J,d as K,e as X,i as D}from"./index-CGWqyz8P.js";import{t as u,y as R,N as p,i as ee,U as h,V as se,v as te,F as E,g as re,W as le,D as ae}from"./index--WZidvUd.js";V.register(Y,G,H,Q,Z,J,K,X,D);const B=({title:l,value:i,icon:b,color:g,navigateTo:c,loading:s=!1,isCurrency:r=!1,trend:o})=>{const m=W(),n=a=>{if(s)return"Loading...";if(r){const x=typeof a=="string"?parseFloat(a.replace("₹","")):a;return`₹${(x==null?void 0:x.toLocaleString("en-IN"))||0}`}return(a==null?void 0:a.toLocaleString("en-IN"))||0};return e.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 p-6 shadow-xs hover:shadow-lg transition-all duration-300 cursor-pointer hover:border-blue-200 hover:translate-y-[-4px] relative overflow-hidden",onClick:()=>c&&m(c),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-purple-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-600 mb-2 flex items-center gap-2",children:[l,o&&e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${o>0?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:[o>0?"↑":"↓"," ",Math.abs(o),"%"]})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:n(i)}),s&&e.jsx("div",{className:"w-20 h-1 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 animate-pulse",style:{width:"60%"}})})]}),e.jsx("div",{className:`p-3 rounded-xl ${g} bg-opacity-10 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(b,{className:`text-2xl ${g.replace("text-","text-")}`})})]})]})},ie=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:e.jsxs("div",{className:"max-w-8xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xs animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((l,i)=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xs animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-gray-200 rounded w-full"})]},i))}),e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[...Array(2)].map((l,i)=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xs animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]},i))})]})}),ce=()=>{var f,y,j,v,N,w,C,T,_,k,A,S,F,$,I,L;const[l,i]=P.useState("today"),[b,g]=P.useState("all"),c=W(),{data:s,isLoading:r,error:o,refetch:m}=z(l),n=t=>({today:"Today",weekly:"This Week",monthly:"This Month",yearly:"This Year"})[t]||"Today",a=[{title:"Active Products",value:((f=s==null?void 0:s.product)==null?void 0:f.active_product)||0,icon:u,color:"text-green-600",navigateTo:"/my-products",loading:r,trend:((y=s==null?void 0:s.product)==null?void 0:y.active_product)||0},{title:"Inactive Products",value:((j=s==null?void 0:s.product)==null?void 0:j.inactive_product)||0,icon:u,color:"text-red-600",navigateTo:"/my-products",loading:r,trend:-5},{title:`${n(l)} Sales`,value:((v=s==null?void 0:s.other)==null?void 0:v.total_sales)||0,icon:R,color:"text-purple-600",navigateTo:"#",loading:r,isCurrency:!0,trend:10},{title:"Current Wallet Balance",value:((N=s==null?void 0:s.wallet)==null?void 0:N.current_balance)||0,icon:p,color:"text-blue-600",navigateTo:"/my-wallet",loading:r,isCurrency:!0,trend:8}],x=[{title:`${n(l)} Topup-request (Approved)`,value:((w=s==null?void 0:s.other)==null?void 0:w.total_topup)||0,icon:ee,color:"text-indigo-600",navigateTo:"/topup",loading:r},{title:`${n(l)} Withdrawal-request (Approved)`,value:((C=s==null?void 0:s.other)==null?void 0:C.total_withdrawals)||0,icon:h,color:"text-yellow-600",navigateTo:"/withdrawal-request",loading:r},{title:"Product-Approval-Request (In-Draft)",value:((T=s==null?void 0:s.product)==null?void 0:T.draft)||0,icon:se,color:"text-orange-600",navigateTo:"/admin/product-requests",loading:r},{title:"Product-Approval-Request (Published)",value:((_=s==null?void 0:s.product)==null?void 0:_.published)||0,icon:te,color:"text-cyan-600",navigateTo:"/admin/product-requests",loading:r}],q={labels:(k=s==null?void 0:s.sales_summary)==null?void 0:k.days,datasets:[{label:"Sales (₹)",data:(A=s==null?void 0:s.sales_summary)==null?void 0:A.amounts,borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:3,tension:.4,fill:!0,pointBackgroundColor:"#8b5cf6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5,pointHoverRadius:7}]},M={labels:["Active","Inactive","Published","Draft"],datasets:[{data:[((S=s==null?void 0:s.product)==null?void 0:S.active_product)||0,((F=s==null?void 0:s.product)==null?void 0:F.inactive_product)||0,(($=s==null?void 0:s.product)==null?void 0:$.published)||0,((I=s==null?void 0:s.product)==null?void 0:I.draft)||0],backgroundColor:["rgba(16, 185, 129, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(249, 115, 22, 0.8)"],borderWidth:0,hoverOffset:8}]};return r?e.jsx(ie,{}):o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center ",children:e.jsxs("div",{className:"text-center bg-white rounded-2xl p-8 shadow-lg border border-gray-200 max-w-md w-full",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(R,{className:"text-2xl text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't load your dashboard data. Please try again later."}),e.jsxs("button",{onClick:m,className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center gap-2 mx-auto",children:[e.jsx(E,{className:"text-sm"}),"Try Again"]})]})}):e.jsxs("div",{className:"min-h-screen ",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-xs sticky top-0 z-40",children:e.jsx("div",{className:"max-w-8xl mx-auto ",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center py-6 gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-xl",children:e.jsx(h,{className:"text-2xl text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Admin Dashboard"}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s!=null&&s.date_range?`Data for ${n(l)} • ${new Date(s.date_range.start).toLocaleDateString()} to ${new Date(s.date_range.end).toLocaleDateString()}`:"Manage your products and track your business performance"]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:m,disabled:r,className:"flex cursor-pointer items-center gap-2 px-4 py-3 text-gray-600 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200 disabled:opacity-50",children:[e.jsx(E,{className:`text-sm ${r?"animate-spin":""}`}),"Refresh"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(re,{className:"text-gray-400"})}),e.jsxs("select",{className:"border cursor-pointer border-gray-200 rounded-xl pl-10 pr-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white shadow-xs transition-all duration-200 hover:border-gray-300 w-full sm:w-40 appearance-none",value:l,onChange:t=>i(t.target.value),disabled:r,children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"weekly",children:"This Week"}),e.jsx("option",{value:"monthly",children:"This Month"}),e.jsx("option",{value:"yearly",children:"This Year"})]})]})]})]})})}),e.jsxs("div",{className:"max-w-8xl mx-auto py-4 ",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:a.map((t,d)=>e.jsx(B,{...t},d))}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:x.map((t,d)=>e.jsx(B,{...t},d))}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 sm:p-6 shadow-xs hover:shadow-lg transition-all duration-300",children:[e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Sales Trend"}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Revenue overview for ",n(l).toLowerCase()]})]})}),e.jsx("div",{className:"h-64 sm:h-80",children:e.jsx(O,{data:q,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:12},bodyFont:{size:14},padding:12,callbacks:{label:function(t){return`₹${t.parsed.y.toLocaleString("en-IN")}`}}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1},ticks:{callback:function(t){return"₹"+t.toLocaleString("en-IN")}}},x:{grid:{display:!1}}},interaction:{intersect:!1,mode:"nearest"}}})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 sm:p-6 shadow-xs hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Products Overview"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Product status distribution"})]}),e.jsxs("button",{className:"bg-indigo-600 text-white px-4 cursor-pointer py-2 rounded-xl hover:bg-indigo-700 transition-colors duration-200 text-sm font-medium flex items-center gap-2 w-full sm:w-auto justify-center",onClick:()=>c("/my-products"),children:["Manage",e.jsx(u,{className:"text-sm"})]})]}),e.jsx("div",{className:"h-64 sm:h-80",children:e.jsx(U,{data:M,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:window.innerWidth<640?"bottom":"right",labels:{usePointStyle:!0,padding:15,font:{size:window.innerWidth<640?10:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:10,bodyFont:{size:12}}},cutout:"0%"}})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 sm:p-6 shadow-xs hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Recent Activity"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Latest orders and transactions"})]}),e.jsxs("button",{className:"bg-gray-600 text-white cursor-pointer px-4 py-2 rounded-xl hover:bg-gray-700 transition-colors duration-200 text-sm font-medium flex items-center gap-2 w-full sm:w-auto justify-center",onClick:()=>c("/my-wallet"),children:["View All",e.jsx(le,{className:"text-sm"})]})]}),e.jsxs("div",{className:"space-y-3",children:[(L=s==null?void 0:s.recent)==null?void 0:L.map((t,d)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-blue-200 hover:bg-blue-50 transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[e.jsxs("div",{className:`p-2 rounded-lg flex-shrink-0 ${t.transaction_type==="DEBIT"?"bg-blue-100 text-blue-600":t.transaction_type==="CREDIT"?"bg-green-100 text-green-600":t.type==="wallet"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:[t.transaction_type==="DEBIT"&&e.jsx(ae,{className:"text-lg"}),t.transaction_type==="CREDIT"&&e.jsx(p,{className:"text-lg"}),t.type==="wallet"&&e.jsx(p,{className:"text-lg"})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900 truncate",children:t.description}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.created_at})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[e.jsx("p",{className:`text-sm font-semibold ${t.transaction_type==="CREDIT"?"text-green-600":"text-red-600"}`,children:t.transaction_type==="CREDIT"?`+₹${t.amount}`:`-₹${t.amount}`}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.transaction_type==="DEBIT"?"bg-blue-100 text-blue-800":t.transaction_type==="CREDIT"?"bg-green-100 text-green-800":t.type==="wallet"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"}`,children:t.transaction_type})]})]},d)),(!(s!=null&&s.recent)||s.recent.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(h,{className:"text-3xl mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No recent activity"})]})]})]})]})]})};export{ce as default};
