import{r as h,bW as D,j as e}from"./index-0HRytCPr.js";import{f as u}from"./format-PgvnqH7J.js";import{p as y}from"./parseISO-0S9K-xRk.js";import"./en-US-CEmq6YZe.js";const E=()=>{const[t,l]=h.useState(1),[o,j]=h.useState(10),[c,p]=h.useState({type:"",status:"",fromDate:"",toDate:""}),{data:i,isLoading:b,error:f,isFetching:r}=D({page:t,page_size:o,...c}),g=(i==null?void 0:i.results)||[],x=(i==null?void 0:i.count)||0,n=Math.ceil(x/o),N=()=>l(s=>Math.max(s-1,1)),v=()=>l(s=>Math.min(s+1,n)),m=s=>{const{name:d,value:a}=s.target;p(C=>({...C,[d]:a})),l(1)},w=s=>{j(Number(s.target.value)),l(1)},k=()=>{p({type:"",status:"",fromDate:"",toDate:""}),l(1)};return b&&t===1?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}):f?e.jsx("div",{className:"alert alert-error shadow-lg mx-4 my-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"ml-2",children:"Failed to load transactions. Please try again."})]})}):e.jsxs("div",{className:"space-y-2 ",children:[e.jsxs("div",{className:"bg-white/50 backdrop-blur-sm p-2 rounded-xl shadow-lg border border-white/50",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),e.jsxs("select",{name:"type",value:c.type,onChange:m,className:"w-full px-3 cursor-pointer py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"CREDIT",children:"Credit"}),e.jsx("option",{value:"DEBIT",children:"Debit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm  font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:c.status,onChange:m,className:"w-full px-3 py-2 border cursor-pointer border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"SUCCESS",children:"Success"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"FAILED",children:"Failed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsx("input",{type:"date",name:"fromDate",value:c.fromDate,onChange:m,className:"w-full px-3 py-2 border cursor-pointer border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{type:"date",name:"toDate",value:c.toDate,onChange:m,className:"w-full px-3 py-2 border cursor-pointer border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:k,className:"w-full px-4 py-2 cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors duration-200",children:"Clear Filters"})})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[x," transactions found"]}),r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-orange-600",children:"Updating..."})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Show:"}),e.jsxs("select",{value:o,onChange:w,className:"px-3 py-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"20",children:"20"}),e.jsx("option",{value:"50",children:"50"})]}),e.jsx("span",{className:"text-sm text-gray-700",children:"entries"})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/50 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200/50",children:[e.jsx("thead",{className:"bg-gradient-to-r from-orange-500/10 to-red-500/10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Transaction"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"User ID"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Order ID"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200/30",children:g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[e.jsx("svg",{className:"w-16 h-16 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("p",{className:"text-lg font-medium",children:r?"Loading transactions...":"No transactions found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search criteria"})]})})}):g.map(s=>e.jsxs("tr",{className:"hover:bg-orange-50/30 transition-all duration-200 group",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900 font-mono",children:["#",s.id]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-700",children:u(y(s.created_at),"dd MMM yyyy")}),e.jsx("div",{className:"text-xs text-gray-500",children:u(y(s.created_at),"hh:mm a")})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-700 bg-gray-100 px-2 py-1 rounded-md",children:s.user_id||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-700 bg-blue-100 px-2 py-1 rounded-md",children:s.order_id||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${s.transaction_type==="CREDIT"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[s.transaction_type==="CREDIT"?e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}):e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),s.transaction_type]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`text-sm font-semibold ${s.transaction_type==="CREDIT"?"text-green-600":"text-red-600"}`,children:[s.transaction_type==="CREDIT"?"+":"-","â‚¹",parseFloat(s.amount).toLocaleString("en-IN")]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-700 max-w-xs truncate",title:s.description,children:s.description}),s.transaction_status&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Status: ",e.jsx("span",{className:`font-medium ${s.transaction_status==="SUCCESS"?"text-green-600":s.transaction_status==="PENDING"?"text-yellow-600":"text-red-600"}`,children:s.transaction_status})]})]})]},s.id))})]})}),e.jsx("div",{className:"bg-white/50 px-6 py-4 border-t border-gray-200/30",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",e.jsx("span",{className:"font-semibold",children:(t-1)*o+1})," to"," ",e.jsx("span",{className:"font-semibold",children:Math.min(t*o,x)})," of"," ",e.jsx("span",{className:"font-semibold",children:x})," results"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:N,disabled:t===1||r,className:`px-4 py-2 rounded-lg border transition-all duration-200 ${t===1||r?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`,children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,n)},(s,d)=>{const a=t<=3?d+1:t>=n-2?n-4+d:t-2+d;return a<=n&&a>=1?e.jsx("button",{onClick:()=>l(a),disabled:r,className:`w-10 h-10 rounded-lg border transition-all duration-200 ${t===a?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${r?"opacity-50":""}`,children:a},a):null})}),e.jsx("button",{onClick:v,disabled:t===n||r,className:`px-4 py-2 rounded-lg border transition-all duration-200 ${t===n||r?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`,children:"Next"})]})]})})]})]})};export{E as default};
