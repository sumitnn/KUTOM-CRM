import{r as h,j as e}from"./index-oHO_bMXB.js";import{t as u,b as y,k as g}from"./index-DCVWk_eg.js";import{M as j}from"./ModalPortal-CaX2GLzp.js";import"./index-DsfZBStp.js";const w=({order:n,onClose:c,onConfirm:i})=>{const[l,r]=h.useState(n.items.map(s=>({id:s.id,productId:s.productId,name:s.productName,quantity:s.quantity,receivedQuantity:s.quantity,isDamaged:!1,notes:""}))),x=(s,a)=>{r(t=>t.map(d=>d.id===s?{...d,receivedQuantity:Math.min(Number(a),d.quantity)}:d))},m=s=>{r(a=>a.map(t=>t.id===s?{...t,isDamaged:!t.isDamaged}:t))},o=(s,a)=>{r(t=>t.map(d=>d.id===s?{...d,notes:a}:d))},p=()=>{i(l)};return e.jsx(j,{children:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center border-b px-4 py-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"text-green-500"}),e.jsxs("h3",{className:"text-lg font-semibold",children:["Receive Products - Order #",n.id]})]}),e.jsx("button",{onClick:c,className:"text-gray-500 hover:text-gray-700",children:e.jsx(y,{size:20})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Ordered"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Received"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Damaged"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Notes"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(s=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"text-gray-500",children:["ID: ",s.productId]})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:s.quantity}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("input",{type:"number",min:"0",max:s.quantity,value:s.receivedQuantity,onChange:a=>x(s.id,a.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded-md"})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("label",{className:"inline-flex items-center",children:e.jsx("input",{type:"checkbox",checked:s.isDamaged,onChange:()=>m(s.id),className:"h-4 w-4 text-green-600 rounded"})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"text",value:s.notes,onChange:a=>o(s.id,a.target.value),placeholder:"Any notes...",className:"w-full px-2 py-1 border border-gray-300 rounded-md"})})]},s.id))})]})}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium",children:"Cancel"}),e.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700",children:[e.jsx(g,{className:"mr-2"})," Confirm Receipt"]})]})]})]})})})};export{w as default};
