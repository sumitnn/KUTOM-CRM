const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WalletSummary-CIyk9M3h.js","assets/index-oHO_bMXB.js","assets/index-CdwHP-N2.css","assets/TransactionTable-CMWqw5ve.js","assets/format-PgvnqH7J.js","assets/en-US-CEmq6YZe.js","assets/TransactionFilter-M1zXli35.js","assets/Pagination-DA1TzIzT.js"])))=>i.map(i=>d[i]);
import{r as l,bV as w,bW as y,j as e,y as _,_ as a}from"./index-oHO_bMXB.js";const k=l.lazy(()=>a(()=>import("./WalletSummary-CIyk9M3h.js"),__vite__mapDeps([0,1,2]))),L=l.lazy(()=>a(()=>import("./TransactionTable-CMWqw5ve.js"),__vite__mapDeps([3,1,2,4,5]))),C=l.lazy(()=>a(()=>import("./TransactionFilter-M1zXli35.js"),__vite__mapDeps([6,1,2]))),E=l.lazy(()=>a(()=>import("./Pagination-DA1TzIzT.js"),__vite__mapDeps([7,1,2]))),T=()=>e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}),P=()=>e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((d,t)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-16 bg-gray-200 rounded-xl"})},t))}),R=()=>e.jsxs("div",{className:"flex flex-wrap gap-3 animate-pulse",children:[e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-32"}),e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-32"}),e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-40"})]}),W=({role:d})=>{const[t,i]=l.useState(1),[n,c]=l.useState({type:"",status:"",fromDate:"",toDate:""}),{data:r,isLoading:m,isError:h,refetch:g}=w(),{data:s,isLoading:u,isError:j,refetch:b}=y({page:t,...n}),o=()=>{g(),b(),_.success("Data refreshed successfully")},p=x=>{i(1),c(N=>({...N,[x.target.name]:x.target.value}))},v=()=>{i(1),c({type:"",status:"",fromDate:"",toDate:""})};if(m)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-lg font-medium text-gray-700",children:"Loading wallet details..."})]})});if(h)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-red-200 max-w-md w-full p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-bold text-red-600 mb-2",children:"Connection Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't load your wallet details. Please try again."}),e.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]})})});const f=d==="stockist"||d==="reseller";return e.jsx("div",{className:"min-h-screen ",children:e.jsxs("div",{className:"mx-auto  py-4 max-w-8xl",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Wallet & Transactions"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your finances and track your transaction history"})]}),e.jsxs("button",{onClick:o,className:"bg-white text-gray-700 cursor-pointer px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors flex items-center gap-2 w-full lg:w-auto justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(l.Suspense,{fallback:e.jsx(T,{}),children:e.jsx(k,{currentBalance:(r==null?void 0:r.current_balance)||0,totalSales:(r==null?void 0:r.total_sales)||0,totalWithdrawals:(r==null?void 0:r.total_withdrawals)||0})})}),f&&e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl shadow-lg text-white p-6",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"YOUR EARNINGS"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Commission from sales and referrals"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[e.jsxs("div",{className:"text-xl font-bold",children:["â‚¹",(r==null?void 0:r.payout_balance)||0]}),e.jsx("p",{className:"text-white/80 text-xs",children:"Available for Withdrawal"})]})})]})})})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Transaction History"}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[(s==null?void 0:s.count)||0," transactions found"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Real-time updates"]})]})}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx(l.Suspense,{fallback:e.jsx(R,{}),children:e.jsx(C,{filters:n,onFilterChange:p,onClearFilters:v})})}),e.jsxs("div",{className:"p-6",children:[e.jsx(l.Suspense,{fallback:e.jsx(P,{}),children:e.jsx(L,{transactions:(s==null?void 0:s.results)||[],isLoading:u,error:j})}),(s==null?void 0:s.count)>0&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx(l.Suspense,{fallback:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}),children:e.jsx(E,{page:t,totalPages:Math.ceil(s.count/10),onPageChange:i})})})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:(s==null?void 0:s.count)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Transactions"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:Math.ceil((s==null?void 0:s.count)/10)||1}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Pages"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:t}),e.jsx("div",{className:"text-sm text-gray-600",children:"Current Page"})]})]})]})})};export{W as default};
