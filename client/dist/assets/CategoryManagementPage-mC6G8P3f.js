import{r as s,bm as Ee,b$ as Ie,a1 as Pe,a0 as Ae,bE as Le,c0 as De,c1 as Te,c2 as Ge,bD as He,c3 as $e,bF as Ue,j as e,y as o}from"./index-oHO_bMXB.js";import{C as w,b as J,X as u,u as X,c as qe,A as Be,Z}from"./index-DCVWk_eg.js";import{f as N}from"./format-PgvnqH7J.js";import"./en-US-CEmq6YZe.js";const Re=()=>{const[d,I]=s.useState("main-categories"),[P,A]=s.useState(""),[L,D]=s.useState(""),[T,G]=s.useState(""),[H,$]=s.useState(""),[U,q]=s.useState(""),[B,z]=s.useState(""),[i,p]=s.useState({name:"",image:null,is_active:!0,imagePreview:null}),[re,b]=s.useState(!1),[V,m]=s.useState(""),[c,y]=s.useState({name:"",main_category:"",is_active:!0}),[se,f]=s.useState(!1),[n,g]=s.useState({name:"",category:"",brand:"",is_active:!0}),[le,v]=s.useState(!1),[x,C]=s.useState(null),[S,k]=s.useState(null),[M,_]=s.useState(null),[O,W]=s.useState(!1),[K,Y]=s.useState(!1),[Q,ee]=s.useState(!1),{data:l}=Ee(),{data:F=[],isLoading:ie,refetch:ne}=Ie(L),{data:E=[],isLoading:oe,refetch:de}=Pe(H),{data:te=[],isLoading:ce}=Ae(),{data:ae=[],isLoading:xe,refetch:me}=Le(B,{skip:d!=="subcategories"}),[ge]=De(),[he]=Te(),[ue]=Ge(),[pe]=He(),[be]=$e(),[ye]=Ue(),fe=t=>["image/jpeg","image/jpg","image/png"].includes(t.type)?t.size>614400?"Image size must be less than 600KB":"":"Please select a valid image format (PNG or JPG only)";s.useEffect(()=>{b(!1),f(!1),v(!1),C(null),k(null),_(null),A(""),D(""),G(""),$(""),q(""),z(""),m("")},[d]);const ve=async t=>{var r;if(t.preventDefault(),!x&&!i.image){o.error("Image is required for new categories");return}W(!0);try{const a=new FormData;a.append("name",i.name),a.append("is_active",i.is_active),i.image&&a.append("image",i.image),x?(await he({id:x.id,data:a}).unwrap(),o.success("Main Category updated successfully")):(await ge(a).unwrap(),o.success("Main Category created successfully")),p({name:"",image:null,is_active:!0,imagePreview:null}),b(!1),C(null),m(""),ne()}catch(a){o.error(((r=a.data)==null?void 0:r.message)||"Failed to process main category")}finally{W(!1)}},je=async t=>{var r;t.preventDefault(),Y(!0);try{const a={name:c.name,main_category:c.main_category,is_active:c.is_active};S?(await pe({id:S.id,data:a}).unwrap(),o.success("Category updated successfully")):(await ue(a).unwrap(),o.success("Category created successfully")),y({name:"",main_category:"",is_active:!0}),f(!1),k(null),de()}catch(a){o.error(((r=a.data)==null?void 0:r.message)||"Failed to process category")}finally{Y(!1)}},we=async t=>{var r;t.preventDefault(),ee(!0);try{const a={name:n.name,category:n.category,brand:n.brand,is_active:n.is_active};M?(await ye({id:M.id,data:a}).unwrap(),o.success("Subcategory updated successfully")):(await be(a).unwrap(),o.success("Subcategory created successfully")),g({name:"",category:"",brand:"",is_active:!0}),v(!1),_(null),me()}catch(a){o.error(((r=a.data)==null?void 0:r.message)||"Failed to process subcategory")}finally{ee(!1)}},Ne=t=>{const r=t.target.files[0];if(!r)return;const a=fe(r);if(a){m(a),o.error(a);return}m("");const h=new FileReader;h.onloadend=()=>{p({...i,image:r,imagePreview:h.result})},h.readAsDataURL(r)},Ce=t=>{C(t),p({name:t.name,image:null,is_active:t.is_active,imagePreview:t.image}),b(!0),m("")},Se=t=>{k(t),y({name:t.name,main_category:t.main_category,is_active:t.is_active}),f(!0)},ke=t=>{_(t),g({name:t.name,category:t.category,brand:t.brand,is_active:t.is_active}),v(!0)},j=t=>{t==="main"?D(P):t==="category"?$(T):t==="subcategory"&&z(U)},R=t=>{t==="main"?(A(""),D("")):t==="category"?(G(""),$("")):t==="subcategory"&&(q(""),z(""))},Me=t=>(l==null?void 0:l.role)==="admin"||(t==null?void 0:t.owner)===(l==null?void 0:l.id),_e=t=>(l==null?void 0:l.role)==="admin"||(t==null?void 0:t.owner)===(l==null?void 0:l.id),Fe=t=>(l==null?void 0:l.role)==="admin"||(t==null?void 0:t.owner)===(l==null?void 0:l.id);return ie||oe||ce||d==="subcategories"&&xe?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500"})}):e.jsx("div",{className:"min-h-screen py-4 ",children:e.jsx("div",{className:"max-w-8xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-8 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:e.jsxs("div",{className:"text-center lg:text-left mb-4 lg:mb-0",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Category Management"}),e.jsx("p",{className:"text-gray-600 font-medium mt-2",children:"Manage your product categories and organization"})]})})}),e.jsx("div",{className:"border-b border-gray-200 bg-white",children:e.jsxs("nav",{className:"flex overflow-x-auto",children:[e.jsx("button",{onClick:()=>I("main-categories"),className:`flex-1 min-w-0 py-4 cursor-pointer px-6 text-center border-b-4 font-bold text-sm transition-all duration-200 ${d==="main-categories"?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:"Main Categories"}),e.jsx("button",{onClick:()=>I("categories"),className:`flex-1 min-w-0 py-4 cursor-pointer px-6 text-center border-b-4 font-bold text-sm transition-all duration-200 ${d==="categories"?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:"Categories"}),e.jsx("button",{onClick:()=>I("subcategories"),className:`flex-1 min-w-0 py-4 cursor-pointer px-6 text-center border-b-4 font-bold text-sm transition-all duration-200 ${d==="subcategories"?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:"Subcategories"})]})}),e.jsxs("div",{className:"p-6",children:[d==="main-categories"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Main Categories"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[e.jsx("div",{className:"relative flex-1 lg:flex-initial",children:e.jsxs("div",{className:"relative flex rounded-2xl shadow-sm bg-white border border-gray-200 hover:border-gray-300 transition-all duration-200",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(w,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search main categories...",className:"block w-full pl-12 pr-4 py-3 border-0 bg-transparent focus:ring-0 text-gray-900 placeholder-gray-500 font-medium",value:P,onChange:t=>A(t.target.value),onKeyUp:t=>t.key==="Enter"&&j("main")}),P&&e.jsx("button",{onClick:()=>R("main"),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(J,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>j("main"),className:"px-6 py-3 bg-blue-600 cursor-pointer hover:bg-blue-700 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Search"]}),e.jsxs("button",{onClick:()=>{b(!0),C(null),p({name:"",image:null,is_active:!0,imagePreview:null}),m("")},className:"px-6 cursor-pointer py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"New Main Category"]})]})]})]}),re&&e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-3xl border-2 border-blue-200 mb-8 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-xl",children:e.jsx(X,{className:"h-6 w-6 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:x?"Edit Main Category":"Create New Main Category"})]}),e.jsxs("form",{onSubmit:ve,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Main Category Name *"}),e.jsx("input",{type:"text",placeholder:"Enter main category name",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",value:i.name,onChange:t=>p({...i,name:t.target.value}),required:!0})]}),e.jsxs("div",{className:"flex items-center p-4 bg-white rounded-2xl border border-gray-200",children:[e.jsx("input",{type:"checkbox",id:"main-category-active",className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer",checked:i.is_active,onChange:t=>p({...i,is_active:t.target.checked})}),e.jsx("label",{htmlFor:"main-category-active",className:"ml-3 block text-sm font-bold text-gray-700",children:"Active Category"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Category Image ",!x&&"*"]}),e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-2xl border-4 border-white shadow-lg bg-white flex items-center justify-center overflow-hidden",children:i.imagePreview?e.jsx("img",{src:i.imagePreview,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx(X,{className:"w-12 h-12 text-gray-400"})}),e.jsxs("label",{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white p-3 rounded-full cursor-pointer hover:shadow-lg transform hover:scale-105 transition-all duration-200 shadow-md",children:[e.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",className:"hidden",onChange:Ne,required:!x}),e.jsx(qe,{className:"h-5 w-5"})]})]}),V&&e.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 px-4 py-2 rounded-xl w-full",children:[e.jsx(Be,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:V})]}),e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Supported formats: PNG, JPG • Max size: 600KB",x&&" • Leave empty to keep current image"]})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-blue-200",children:[e.jsx("button",{type:"button",onClick:()=>{b(!1),C(null),m("")},className:"px-6 py-3 cursor-pointer border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200 font-semibold hover:shadow-md",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:O,className:`px-6 py-3 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 ${O?"bg-blue-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,children:O?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 cursor-pointer border-2 border-white border-t-transparent rounded-full animate-spin"}),x?"Updating...":"Creating..."]}):x?"Update Category":"Create Category"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Image"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider hidden lg:table-cell",children:"Created"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider hidden xl:table-cell",children:"Updated"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:F.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"w-12 h-12 rounded-xl border-2 border-white shadow-md overflow-hidden",children:e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-bold text-gray-900",children:t.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${t.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden lg:table-cell",children:N(new Date(t.created_at),"dd MMM yyyy, HH:mm")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden xl:table-cell",children:N(new Date(t.updated_at),"dd MMM yyyy, HH:mm")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Me(t)&&e.jsxs("button",{onClick:()=>Ce(t),className:" cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-xl font-semibold transition-all duration-200 hover:shadow-md",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})})]},t.id))})]})}),F.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(X,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No main categories found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:L?"Try a different search term":"Get started by creating your first main category"}),!L&&e.jsx("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:"Create First Category"})]})]})]}),d==="categories"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[e.jsx("div",{className:"relative flex-1 lg:flex-initial",children:e.jsxs("div",{className:"relative flex rounded-2xl shadow-sm bg-white border border-gray-200 hover:border-gray-300 transition-all duration-200",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(w,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search categories...",className:"block w-full pl-12 pr-4 py-3 border-0 bg-transparent focus:ring-0 text-gray-900 placeholder-gray-500 font-medium",value:T,onChange:t=>G(t.target.value),onKeyUp:t=>t.key==="Enter"&&j("category")}),T&&e.jsx("button",{onClick:()=>R("category"),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(J,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>j("category"),className:"px-6 py-3 cursor-pointer bg-blue-600 hover:bg-blue-700 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Search"]}),e.jsxs("button",{onClick:()=>{f(!0),k(null),y({name:"",main_category:"",is_active:!0})},className:"px-6 cursor-pointer py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"New Category"]})]})]})]}),se&&e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-3xl border-2 border-green-200 mb-8 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-xl",children:e.jsx(u,{className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:S?"Edit Category":"Create New Category"})]}),e.jsxs("form",{onSubmit:je,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Main Category *"}),e.jsxs("select",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",value:c.main_category,onChange:t=>y({...c,main_category:t.target.value}),required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Main Category"}),F.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Category Name *"}),e.jsx("input",{type:"text",placeholder:"Enter category name",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",value:c.name,onChange:t=>y({...c,name:t.target.value}),required:!0})]})]}),e.jsxs("div",{className:"flex items-center p-4 bg-white rounded-2xl border border-gray-200",children:[e.jsx("input",{type:"checkbox",id:"category-active",className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer",checked:c.is_active,onChange:t=>y({...c,is_active:t.target.checked})}),e.jsx("label",{htmlFor:"category-active",className:"ml-3 block text-sm font-bold text-gray-700",children:"Active Category"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-green-200",children:[e.jsx("button",{type:"button",onClick:()=>{f(!1),k(null)},className:"px-6 cursor-pointer py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200 font-semibold hover:shadow-md",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:K,className:`px-6 py-3 cursor-pointer text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 ${K?"bg-green-400 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,children:K?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),S?"Updating...":"Creating..."]}):S?"Update Category":"Create Category"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Main Category"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider hidden lg:table-cell",children:"Created"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider hidden xl:table-cell",children:"Updated"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:E.map(t=>{const r=F.find(a=>a.id===t.main_category);return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-bold text-gray-900",children:t.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:(r==null?void 0:r.name)||"Uncategorized"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${t.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden lg:table-cell",children:N(new Date(t.created_at),"dd MMM yyyy, HH:mm")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden xl:table-cell",children:N(new Date(t.updated_at),"dd MMM yyyy, HH:mm")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:_e(t)&&e.jsxs("button",{onClick:()=>Se(t),className:"inline-flex cursor-pointer items-center gap-2 px-4 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-xl font-semibold transition-all duration-200 hover:shadow-md",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})})]},t.id)})})]})}),E.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(u,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No categories found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:H?"Try a different search term":"Get started by creating your first category"}),!H&&e.jsx("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:"Create First Category"})]})]})]}),d==="subcategories"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Subcategories"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[e.jsx("div",{className:"relative flex-1 lg:flex-initial",children:e.jsxs("div",{className:"relative flex rounded-2xl shadow-sm bg-white border border-gray-200 hover:border-gray-300 transition-all duration-200",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(w,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search subcategories...",className:"block w-full pl-12 pr-4 py-3 border-0 bg-transparent focus:ring-0 text-gray-900 placeholder-gray-500 font-medium",value:U,onChange:t=>q(t.target.value),onKeyUp:t=>t.key==="Enter"&&j("subcategory")}),U&&e.jsx("button",{onClick:()=>R("subcategory"),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(J,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>j("subcategory"),className:"px-6 cursor-pointer py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Search"]}),e.jsxs("button",{onClick:()=>{v(!0),_(null),g({name:"",category:"",brand:"",is_active:!0})},className:"px-6 py-3 cursor-pointer bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"New Subcategory"]})]})]})]}),le&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-3xl border-2 border-purple-200 mb-8 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-xl",children:e.jsx(u,{className:"h-6 w-6 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:M?"Edit Subcategory":"Create New Subcategory"})]}),e.jsxs("form",{onSubmit:we,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Parent Category *"}),e.jsxs("select",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",value:n.category,onChange:t=>g({...n,category:t.target.value}),required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Category"}),E.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Brand *"}),e.jsxs("select",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",value:n.brand,onChange:t=>g({...n,brand:t.target.value}),required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Brand"}),te.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Subcategory Name *"}),e.jsx("input",{type:"text",placeholder:"Enter subcategory name",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",value:n.name,onChange:t=>g({...n,name:t.target.value}),required:!0})]})]}),e.jsxs("div",{className:"flex items-center p-4 bg-white rounded-2xl border border-gray-200",children:[e.jsx("input",{type:"checkbox",id:"subcategory-active",className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer",checked:n.is_active,onChange:t=>g({...n,is_active:t.target.checked})}),e.jsx("label",{htmlFor:"subcategory-active",className:"ml-3 block text-sm font-bold text-gray-700",children:"Active Subcategory"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-purple-200",children:[e.jsx("button",{type:"button",onClick:()=>{v(!1),_(null)},className:"px-6 cursor-pointer py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200 font-semibold hover:shadow-md",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:Q,className:`px-6 py-3 cursor-pointer text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 ${Q?"bg-purple-400 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,children:Q?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),M?"Updating...":"Creating..."]}):M?"Update Subcategory":"Create Subcategory"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Parent Category"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Brand"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider hidden lg:table-cell",children:"Created"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider hidden xl:table-cell",children:"Updated"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ae.map(t=>{const r=E.find(h=>h.id===t.category),a=te.find(h=>h.id===t.brand);return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-bold text-gray-900",children:t.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:(r==null?void 0:r.name)||"Unknown"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:(a==null?void 0:a.name)||"No Brand"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${t.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden lg:table-cell",children:N(new Date(t.created_at),"dd MMM yyyy, HH:mm")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden xl:table-cell",children:N(new Date(t.updated_at),"dd MMM yyyy, HH:mm")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Fe(t)&&e.jsxs("button",{onClick:()=>ke(t),className:"inline-flex cursor-pointer items-center gap-2 px-4 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-xl font-semibold transition-all duration-200 hover:shadow-md",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})})]},t.id)})})]})}),ae.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(u,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No subcategories found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:B?"Try a different search term":"Get started by creating your first subcategory"}),!B&&e.jsx("button",{onClick:()=>v(!0),className:"px-6 py-3 cursor-pointer bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:"Create First Subcategory"})]})]})]})]})]})})})};export{Re as default};
