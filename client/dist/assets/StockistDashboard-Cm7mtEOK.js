import{r as P,a as q,bT as U,j as e}from"./index-oHO_bMXB.js";import{L as Y,P as I,C as G,B as H,A as Q,a as Z,b as J,p as K,c as X,d as D,e as ee}from"./index-DuFE4DpJ.js";import{N as g,y as h,t as te,D as p,A as se,F as B,g as re,a7 as le,o as b,W as ae}from"./index-DCVWk_eg.js";G.register(H,Q,Z,J,K,X,D,ee);const z=({title:r,value:n,icon:f,color:m,navigateTo:i,loading:t=!1,isCurrency:l=!1,trend:d})=>{const u=q(),a=o=>{if(t)return"---";if(l){const x=typeof o=="string"?parseFloat(o.replace("₹","")):o;return`₹${(x==null?void 0:x.toLocaleString("en-IN"))||0}`}return(o==null?void 0:o.toLocaleString("en-IN"))||0};return e.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 p-6 shadow-xs hover:shadow-lg transition-all duration-300 cursor-pointer hover:border-blue-200 hover:translate-y-[-4px] relative overflow-hidden",onClick:()=>i&&u(i),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-purple-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:r}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:a(n)}),d&&e.jsxs("div",{className:`inline-flex items-center text-xs font-medium px-2 py-1 rounded-full ${d.value>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[d.value>0?"↑":"↓"," ",Math.abs(d.value),"% ",d.label]})]}),e.jsx("div",{className:`p-3 rounded-xl ${m} bg-opacity-10 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(f,{className:`text-2xl ${m.replace("text-","text-")}`})})]}),e.jsx("div",{className:`absolute bottom-0 left-0 w-0 group-hover:w-full h-1 ${m.replace("text-","bg-")} transition-all duration-300`})]})},oe=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:e.jsxs("div",{className:"max-w-8xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((r,n)=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]},n))}),e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mb-8",children:[...Array(2)].map((r,n)=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]},n))})]})}),ce=()=>{var j,y,v,w,N,C,k,T,S,_,F,R,$,A,L,W,E;const[r,n]=P.useState("today"),[f,m]=P.useState("all"),i=q(),{data:t,isLoading:l,error:d,refetch:u}=U(r),a=s=>({today:"Today",weekly:"This Week",monthly:"This Month",yearly:"This Year"})[s]||"Today",o=[{title:"Current Wallet Balance",value:((j=t==null?void 0:t.wallet)==null?void 0:j.current_balance)||0,icon:g,color:"text-blue-600",navigateTo:"/stockist/my-wallet",loading:l,isCurrency:!0,trend:{value:12,label:"vs last month"}},{title:"Current Payout Balance",value:((y=t==null?void 0:t.wallet)==null?void 0:y.commission_balance)||0,icon:g,color:"text-green-600",navigateTo:"/stockist/my-wallet",loading:l,isCurrency:!0,trend:{value:8,label:"vs last month"}},{title:`${a(r)} Sales`,value:((v=t==null?void 0:t.other)==null?void 0:v.total_sales)||0,icon:h,color:"text-purple-600",navigateTo:"/stockist/sales-report",loading:l,isCurrency:!0,trend:{value:15,label:"vs last period"}},{title:"Total Products in Inventory",value:((w=t==null?void 0:t.product)==null?void 0:w.total_product)||0,icon:te,color:"text-indigo-600",navigateTo:"/stockist/my-stocks",loading:l,trend:{value:5,label:"new this week"}}],x=[{title:`${a(r)} Pending Orders`,value:((N=t==null?void 0:t.order)==null?void 0:N.pending)||0,icon:p,color:"text-yellow-600",navigateTo:"/stockist/reseller-order-request",loading:l},{title:`${a(r)} Approved Orders`,value:((C=t==null?void 0:t.order)==null?void 0:C.approved)||0,icon:p,color:"text-green-600",navigateTo:"/stockist/reseller-order-request",loading:l},{title:`${a(r)} Bank Transfer Requests`,value:((k=t==null?void 0:t.other)==null?void 0:k.total_withdrawals)||0,icon:h,color:"text-cyan-600",navigateTo:"/stockist/my-withdrawl-history",loading:l,isCurrency:!0},{title:`${a(r)} Topup Requests`,value:((T=t==null?void 0:t.other)==null?void 0:T.total_topup)||0,icon:h,color:"text-orange-600",navigateTo:"/stockist/my-topup-request",loading:l,isCurrency:!0}],M={labels:((S=t==null?void 0:t.sales_summary)==null?void 0:S.days)||["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Sales (₹)",data:((_=t==null?void 0:t.sales_summary)==null?void 0:_.amounts)||[0,0,0,0,0,0,0],borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:3,tension:.4,fill:!0,pointBackgroundColor:"#8b5cf6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8}]},O={labels:["Pending","Approved","Rejected"],datasets:[{data:[((F=t==null?void 0:t.order)==null?void 0:F.pending)||0,((R=t==null?void 0:t.order)==null?void 0:R.approved)||0,(($=t==null?void 0:t.order)==null?void 0:$.rejected)||0],backgroundColor:["rgba(245, 158, 11, 0.9)","rgba(16, 185, 129, 0.9)","rgba(239, 68, 68, 0.9)"],borderWidth:0,hoverOffset:12,borderRadius:6}]},V={labels:["Current Balance","Total Sales","Total Withdrawals"],datasets:[{data:[((A=t==null?void 0:t.wallet)==null?void 0:A.current_balance)||0,((L=t==null?void 0:t.other)==null?void 0:L.total_sales)||0,((W=t==null?void 0:t.other)==null?void 0:W.total_withdrawals)||0],backgroundColor:["rgba(59, 130, 246, 0.9)","rgba(139, 92, 246, 0.9)","rgba(6, 182, 212, 0.9)"],borderWidth:0,hoverOffset:12,borderRadius:6}]};return l?e.jsx(oe,{}):d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center bg-white rounded-2xl p-8 shadow-lg border border-gray-200 max-w-md w-full",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(se,{className:"text-2xl text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your dashboard data. Please try again later."}),e.jsxs("button",{onClick:u,className:"bg-red-600 cursor-pointer text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium flex items-center justify-center gap-2 w-full",children:[e.jsx(B,{className:"text-sm"}),"Try Again"]})]})}):e.jsxs("div",{className:"min-h-screen ",children:[e.jsx("div",{className:"bg-white border-b border-gray-200/60 shadow-xs",children:e.jsx("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center py-6 gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-600 to-purple-600 rounded-full"}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Stockist Dashboard"})]}),e.jsx("p",{className:"text-gray-600 text-base flex items-center gap-2",children:t!=null&&t.date_range?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Data for ",a(r)," • ",new Date(t.date_range.start).toLocaleDateString()," to ",new Date(t.date_range.end).toLocaleDateString()]}):"Manage your products and track your business performance"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(re,{className:"text-gray-400"})}),e.jsxs("select",{className:"appearance-none border border-gray-300 rounded-xl pl-10 pr-8 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white shadow-xs transition-all duration-200 hover:border-gray-400 w-full sm:w-48 cursor-pointer",value:r,onChange:s=>n(s.target.value),children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"weekly",children:"This Week"}),e.jsx("option",{value:"monthly",children:"This Month"}),e.jsx("option",{value:"yearly",children:"This Year"})]})]}),e.jsxs("button",{onClick:u,className:"bg-white border cursor-pointer border-gray-300 text-gray-700 px-4 py-3 rounded-xl hover:bg-gray-50 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-xs",children:[e.jsx(B,{className:`text-sm ${l?"animate-spin":""}`}),"Refresh"]})]})]})})}),e.jsxs("div",{className:"max-w-8xl mx-auto p-4 sm:p-6 lg:p-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:o.map((s,c)=>e.jsx(z,{...s},c))}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:x.map((s,c)=>e.jsx(z,{...s},c))}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-xs hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(le,{className:"text-purple-600"}),"Sales Trend"]}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Revenue overview for ",a(r).toLowerCase()]})]}),e.jsxs("button",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-xl hover:shadow-lg transition-all duration-200 text-sm font-medium flex items-center gap-2 group",onClick:()=>i("/stockist/sales-report"),children:["View Report",e.jsx(b,{className:"group-hover:translate-x-1 transition-transform duration-200"})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(Y,{data:M,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#374151",borderColor:"#e5e7eb",borderWidth:1,titleFont:{size:12,weight:"600"},bodyFont:{size:14},padding:12,boxPadding:6,usePointStyle:!0,callbacks:{label:function(s){return`₹${s.parsed.y.toLocaleString("en-IN")}`}}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1,color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:function(s){return"₹"+s.toLocaleString("en-IN")},font:{size:11}}},x:{grid:{display:!1},ticks:{font:{size:11}}}},interaction:{intersect:!1,mode:"nearest"}}})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-xs hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(p,{className:"text-green-600"}),"Orders Distribution"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Current order status breakdown"})]}),e.jsxs("button",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-2 rounded-xl hover:shadow-lg transition-all duration-200 text-sm font-medium flex items-center gap-2 group",onClick:()=>i("/stockist/reseller-order-request"),children:["View Orders",e.jsx(b,{className:"group-hover:translate-x-1 transition-transform duration-200"})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(I,{data:O,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:20,font:{size:12},color:"#374151"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#374151",borderColor:"#e5e7eb",borderWidth:1,padding:12,bodyFont:{size:14},callbacks:{label:function(s){return`${s.label}: ${s.parsed}`}}}},cutout:"0%"}})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-xs hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(g,{className:"text-blue-600"}),"Wallet Distribution"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Financial breakdown"})]}),e.jsxs("button",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-4 py-2 rounded-xl hover:shadow-lg transition-all duration-200 text-sm font-medium flex items-center gap-2 group",onClick:()=>i("/stockist/my-wallet"),children:["View Wallet",e.jsx(b,{className:"group-hover:translate-x-1 transition-transform duration-200"})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(I,{data:V,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:20,font:{size:12},color:"#374151"}},tooltip:{callbacks:{label:function(s){return`${s.label}: ₹${s.parsed.toLocaleString("en-IN")}`}},backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#374151",borderColor:"#e5e7eb",borderWidth:1,padding:12,bodyFont:{size:14}}},cutout:"0%"}})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-xs hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ae,{className:"text-orange-600"}),"Recent Activity"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Latest transactions and updates"})]}),e.jsxs("button",{className:"bg-gradient-to-r from-orange-600 to-amber-600 text-white px-4 py-2 rounded-xl hover:shadow-lg transition-all duration-200 text-sm font-medium flex items-center gap-2 group",onClick:()=>i("/stockist/my-wallet"),children:["View All",e.jsx(b,{className:"group-hover:translate-x-1 transition-transform duration-200"})]})]}),e.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:(E=t==null?void 0:t.recent)==null?void 0:E.map((s,c)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-blue-200 hover:bg-blue-50 transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`p-2 rounded-lg ${s.transaction_type==="DEBIT"?"bg-blue-100 text-blue-600":s.transaction_type==="CREDIT"?"bg-green-100 text-green-600":s.type==="wallet"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"} group-hover:scale-110 transition-transform duration-200`,children:[s.transaction_type==="DEBIT"&&e.jsx(p,{className:"text-lg"}),s.transaction_type==="CREDIT"&&e.jsx(g,{className:"text-lg"}),s.type==="wallet"&&e.jsx(g,{className:"text-lg"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900",children:s.description}),e.jsx("p",{className:"text-xs text-gray-500",children:s.created_at})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-sm font-semibold ${s.transaction_type==="CREDIT"?"text-green-600":"text-red-600"}`,children:s.transaction_type==="CREDIT"?`+₹${s.amount}`:`-₹${s.amount}`}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.transaction_type==="DEBIT"?"bg-blue-100 text-blue-800":s.transaction_type==="CREDIT"?"bg-green-100 text-green-800":s.type==="wallet"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"}`,children:s.transaction_type})]})]},c))})]})]})]})]})};export{ce as default};
