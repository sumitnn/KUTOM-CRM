import{a as ue,u as me,Z as he,r as p,ca as be,a1 as ge,a2 as pe,a0 as fe,j as e,y as _,bJ as je}from"./index-oHO_bMXB.js";import{i as U,V as Ne,x as ve,C as we,b as y,F as ye,B as _e,Y as te,D as le,e as ae}from"./index-DCVWk_eg.js";/* empty css                      */const ke=(l,a)=>{if(!l||l.length===0)return 0;const n=l[0];switch(a){case"stockist":return parseFloat(n.stockist_actual_price);case"reseller":return parseFloat(n.reseller_actual_price);default:return parseFloat(n.actual_price)}},Se=(l,a)=>{if(!l||l.length===0)return 0;const n=l[0];return a==="stockist"?n.stockist_discount:a==="reseller"?n.reseller_discount:0},Ce=(l,a)=>{if(!l||l.length===0)return 0;const n=l[0];return a==="stockist"?n.stockist_gst:a==="reseller"?n.reseller_gst:n.gst_percentage},L=(l,a)=>{if(!l||l.length===0)return{basePrice:0,discountPercentage:0,discountAmount:0,priceAfterDiscount:0,gstPercentage:0,gstAmount:0,finalPrice:0};const n=ke(l,a),o=Se(l,a),i=Ce(l,a),c=n*o/100,u=n-c,k=u*i/100,m=u+k;return{basePrice:n,discountPercentage:o,discountAmount:c,priceAfterDiscount:u,gstPercentage:i,gstAmount:k,finalPrice:m}},Fe=(l,a,n)=>{if(!l||l.length===0)return{totalBase:0,totalDiscount:0,totalPriceAfterDiscount:0,totalGst:0,totalFinal:0};const o=L(l,n);return{totalBase:o.basePrice*a,totalDiscount:o.discountAmount*a,totalPriceAfterDiscount:o.priceAfterDiscount*a,totalGst:o.gstAmount*a,totalFinal:o.finalPrice*a}},K=l=>{var a,n;if(((n=(a=l.product_detail)==null?void 0:a.images)==null?void 0:n.length)>0){const o=l.product_detail.images.find(i=>i.is_featured)||l.product_detail.images.find(i=>i.is_default)||l.product_detail.images[0];return(o==null?void 0:o.image)||"/placeholder.png"}return"/placeholder.png"},Q=l=>{var a,n,o;if(((a=l.variants_detail)==null?void 0:a.length)>0){const i=l.variants_detail.find(u=>u.is_default)||l.variants_detail[0],c=(n=i==null?void 0:i.product_variant_prices)==null?void 0:n[0];if((c==null?void 0:c.total_available_quantity)!==void 0)return Number(c.total_available_quantity)}return((o=l.inventories)==null?void 0:o.length)>0?l.inventories.reduce((i,c)=>i+(c.total_quantity||0),0):0},Pe=l=>{navigator.clipboard.writeText(l),_.success("Copied to clipboard!")},Be=({role:l})=>{var D,ee,se;const a=ue(),n=me(),o=he(t=>t.cart.items),[i,c]=p.useState(""),[u,k]=p.useState(""),[m,z]=p.useState(""),[C,F]=p.useState(""),[P,E]=p.useState(""),[B,re]=p.useState(!1),[I,V]=p.useState(!1),[T,Y]=p.useState("grid"),[G,R]=p.useState(!1),{data:ne={results:[]},isLoading:ie,isError:oe,refetch:M}=be({search:u,category:m,subcategory:C,brand:P});let S=ne.results||[];G||(S=S.filter(t=>Q(t)>0));const{data:q=[]}=ge(),{data:H=[]}=pe(m,{skip:!m}),{data:J=[]}=fe(),ce=async()=>{V(!0);try{await M(),_.success("Products refreshed successfully!")}catch{_.error("Failed to refresh products")}finally{V(!1)}},X=()=>{k(i)},Z=()=>{c(""),k(""),z(""),F(""),E(""),R(!1)},W=t=>{var N,v,w,g;const h=Q(t);if(h<=0){_.error("Product is out of stock");return}const r=((N=t.variants_detail)==null?void 0:N[0])||null,s=r==null?void 0:r.product_variant_prices;if(!r||!s||s.length===0){_.error("Product pricing not available");return}if(o.some($=>{var O;return $.cartItemId===`${(O=t.product_detail)==null?void 0:O.id}_${r==null?void 0:r.id}`})){_.info("Item already in cart");return}const b=L(s,l),x=Fe(s,1,l),j={id:t.id,product_id:(v=t.product_detail)==null?void 0:v.id,cartItemId:`${(w=t.product_detail)==null?void 0:w.id}_${r.id}`,name:((g=t.product_detail)==null?void 0:g.name)||t.name,base_price:b.basePrice,discount_percentage:b.discountPercentage,discount_amount:b.discountAmount,price_after_discount:b.priceAfterDiscount,gst_percentage:b.gstPercentage,gst_amount:b.gstAmount,final_price:b.finalPrice,quantity:1,total_price:x.totalFinal,image:K(t),variant:{id:r.id,name:r.name,sku:r.sku,product_variant_prices:r.product_variant_prices,bulk_prices:r.bulk_prices||[]},rolebaseid:t.id,maxQuantity:h,user_role:l};n(je(j)),_.success("ðŸŽ‰ Item added to cart!")},A=u||m||C||P||G,de=S.length,xe=S.filter(t=>Q(t)<=0).length;return e.jsx("div",{className:"min-h-screen  py-4",children:e.jsxs("div",{className:"max-w-8xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Product Catalog"}),e.jsxs("p",{className:"text-slate-600 mt-2 flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Browse and manage your product inventory"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-200/60 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(U,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:de}),e.jsx("p",{className:"text-sm text-slate-600",children:"Available Products"})]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-200/60 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Ne,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:xe}),e.jsx("p",{className:"text-sm text-slate-600",children:"Out of Stock"})]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-200/60 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(ve,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-slate-800 capitalize",children:l}),e.jsx("p",{className:"text-sm text-slate-600",children:"Pricing"})]})]})})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-sm border border-slate-200/60 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsx("div",{className:"flex-1 w-full lg:max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search products by name, SKU, or description...",className:"w-full pl-12 pr-24 py-3 bg-slate-50/50 border border-slate-200/60 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",value:i,onChange:t=>c(t.target.value),onKeyUp:t=>t.key==="Enter"&&X()}),i&&e.jsx("button",{onClick:()=>c(""),className:"absolute right-20 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 cursor-pointer p-1",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsx("button",{onClick:X,disabled:!i,className:`absolute right-2 top-1/2 transform -translate-y-1/2 px-4 py-1.5 rounded-lg font-medium text-sm transition-all duration-200 ${i?"bg-blue-500 text-white hover:bg-blue-600 shadow-sm shadow-blue-500/25 cursor-pointer":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:"Search"})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3 w-full lg:w-auto",children:[e.jsxs("div",{className:"flex bg-slate-100 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>Y("grid"),className:`p-2 rounded-lg transition-all duration-200 ${T==="grid"?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:e.jsx("div",{className:"w-4 h-4 grid grid-cols-2 gap-0.5",children:[...Array(4)].map((t,h)=>e.jsx("div",{className:"bg-current rounded-sm"},h))})}),e.jsx("button",{onClick:()=>Y("list"),className:`p-2 rounded-lg transition-all duration-200 ${T==="list"?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:e.jsx("div",{className:"w-4 h-4 flex flex-col gap-0.5",children:[...Array(3)].map((t,h)=>e.jsx("div",{className:"bg-current rounded-sm h-1"},h))})})]}),e.jsxs("button",{onClick:ce,disabled:I,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all duration-200 ${I?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-200/60 shadow-sm cursor-pointer"}`,children:[e.jsx(ye,{className:`w-4 h-4 ${I?"animate-spin":""}`}),I?"Refreshing...":"Refresh"]}),e.jsxs("button",{className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all duration-200 lg:hidden cursor-pointer ${B?"bg-blue-500 text-white shadow-sm shadow-blue-500/25":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-200/60 shadow-sm"}`,onClick:()=>re(!B),children:[e.jsx(_e,{className:"w-4 h-4"}),B?"Hide Filters":"Filters"]})]})]}),e.jsx("div",{className:`mt-6 transition-all duration-300 ${B?"block":"hidden lg:block"}`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Category"}),e.jsxs("select",{className:"w-full p-3 bg-slate-50/50 border border-slate-200/60 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 cursor-pointer",value:m,onChange:t=>{z(t.target.value),F("")},children:[e.jsx("option",{value:"",children:"All Categories"}),q.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Subcategory"}),e.jsxs("select",{className:"w-full p-3 bg-slate-50/50 border border-slate-200/60 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 cursor-pointer disabled:opacity-50",value:C,onChange:t=>F(t.target.value),disabled:!m,children:[e.jsx("option",{value:"",children:"All Subcategories"}),H.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Brand"}),e.jsxs("select",{className:"w-full p-3 bg-slate-50/50 border border-slate-200/60 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 cursor-pointer",value:P,onChange:t=>E(t.target.value),children:[e.jsx("option",{value:"",children:"All Brands"}),J.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Stock Status"}),e.jsxs("select",{className:"w-full p-3 bg-slate-50/50 border border-slate-200/60 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200 cursor-pointer",value:G,onChange:t=>R(t.target.value==="true"),children:[e.jsx("option",{value:"false",children:"In Stock Only"}),e.jsx("option",{value:"true",children:"Show Out of Stock"})]})]}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("button",{onClick:Z,disabled:!A,className:`flex-1 py-3 rounded-xl font-medium transition-all duration-200 ${A?"bg-red-500 text-white hover:bg-red-600 shadow-sm shadow-red-500/25 cursor-pointer":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:"Clear Filters"})})]})})]})]}),A&&e.jsxs("div",{className:"mb-6 flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Active filters:"}),u&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:['Search: "',u,'"',e.jsx("button",{onClick:()=>{c(""),k("")},className:"hover:bg-blue-200 rounded-full p-0.5 cursor-pointer",children:e.jsx(y,{size:14})})]}),m&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:["Category: ",(D=q.find(t=>t.id==m))==null?void 0:D.name,e.jsx("button",{onClick:()=>{z(""),F("")},className:"hover:bg-green-200 rounded-full p-0.5 cursor-pointer",children:e.jsx(y,{size:14})})]}),C&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:["Subcategory: ",(ee=H.find(t=>t.id==C))==null?void 0:ee.name,e.jsx("button",{onClick:()=>F(""),className:"hover:bg-purple-200 rounded-full p-0.5 cursor-pointer",children:e.jsx(y,{size:14})})]}),P&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:["Brand: ",(se=J.find(t=>t.id==P))==null?void 0:se.name,e.jsx("button",{onClick:()=>E(""),className:"hover:bg-orange-200 rounded-full p-0.5 cursor-pointer",children:e.jsx(y,{size:14})})]}),G&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:["Showing Out of Stock",e.jsx("button",{onClick:()=>R(!1),className:"hover:bg-red-200 rounded-full p-0.5 cursor-pointer",children:e.jsx(y,{size:14})})]})]}),ie?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 font-medium",children:"Loading products..."})]})}):oe?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"max-w-md mx-auto bg-white/80 backdrop-blur-sm rounded-2xl p-8 border border-red-200/60 shadow-sm",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(y,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Failed to load products"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Please check your connection and try again"}),e.jsx("button",{className:"bg-blue-500 text-white px-6 py-2.5 rounded-xl font-medium hover:bg-blue-600 transition-all duration-200 shadow-sm shadow-blue-500/25 cursor-pointer",onClick:M,children:"Try Again"})]})}):e.jsx(e.Fragment,{children:S.length>0?e.jsx("div",{className:`${T==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4"}`,children:S.map(t=>{var O;const h=Q(t),r=h<=0,s=t.product_detail,f=(O=t.variants_detail)==null?void 0:O[0],b=f==null?void 0:f.product_variant_prices,x=b?L(b,l):null,j=x?x.finalPrice:0,N=x?x.basePrice:0,v=x?x.discountPercentage:0,w=x?x.gstPercentage:0,g=v>0,$=w>0;return T==="grid"?e.jsxs("div",{className:`group bg-white/80 backdrop-blur-sm rounded-2xl overflow-hidden border-2 transition-all duration-300 hover:shadow-lg hover:scale-[1.02] ${r?"border-red-200/60 opacity-70":"border-slate-200/60 hover:border-blue-300/60"}`,children:[e.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-slate-50 to-blue-50/50",children:[e.jsx("img",{src:K(t),alt:s==null?void 0:s.name,className:"w-full h-full object-contain p-6 transition-transform duration-300 group-hover:scale-105",onError:d=>{d.target.src.includes("/placeholder.png")||(d.target.onerror=null,d.target.src="/placeholder.png")}}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-1",children:[s!=null&&s.is_active?e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:"Active"}):e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold",children:"Inactive"}),r&&e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold",children:"Out of Stock"}),t.is_featured&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"}),"Featured"]}),g&&e.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:[v,"% OFF"]})]}),$&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold",children:["GST ",w,"%"]})}),e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsx("button",{onClick:d=>{d.stopPropagation(),Pe(s==null?void 0:s.sku)},className:"px-2 py-1 bg-slate-800/90 text-white rounded-lg text-xs font-mono cursor-pointer hover:bg-slate-900 transition-colors duration-200",title:"Click to copy SKU",children:s==null?void 0:s.sku})}),e.jsx("div",{className:"absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("button",{onClick:d=>{d.stopPropagation(),W(t)},disabled:!(s!=null&&s.is_active)||r,className:`p-3 rounded-xl font-semibold text-sm transition-all duration-200 ${!(s!=null&&s.is_active)||r?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600 shadow-lg shadow-blue-500/40 cursor-pointer"}`,children:e.jsx(le,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded",children:(s==null?void 0:s.brand_name)||"No brand"}),e.jsx("span",{className:"text-xs font-medium text-slate-500",children:(s==null?void 0:s.category_name)||"Uncategorized"})]}),e.jsx("h3",{className:"font-semibold text-slate-800 mb-2 line-clamp-2 leading-tight",children:s==null?void 0:s.name}),(s==null?void 0:s.short_description)&&e.jsx("p",{className:"text-sm text-slate-600 mb-3 line-clamp-2",children:s.short_description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-xl font-bold text-green-600",children:["â‚¹",j.toFixed(2)]}),g&&e.jsxs("div",{className:"text-sm text-slate-400 line-through",children:["â‚¹",N.toFixed(2)]})]}),g&&e.jsxs("div",{className:"text-xs text-green-600 font-medium",children:["You save â‚¹",(N-j).toFixed(2),"!"]})]}),e.jsx("div",{className:`px-2 py-1 rounded-lg text-xs font-semibold ${r?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r?"Out of Stock":`${h} available`})]}),x&&e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[g&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{className:"text-red-500",children:["-",v,"%"]})]}),$&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"GST:"}),e.jsxs("span",{className:"text-blue-500",children:["+",w,"%"]})]}),(l==="stockist"||l==="reseller")&&e.jsxs("div",{className:"flex justify-between text-green-600 font-medium",children:[e.jsxs("span",{children:[l," Price:"]}),e.jsxs("span",{children:["â‚¹",j.toFixed(2)]})]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{className:"flex-1 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-200 transition-all duration-200 flex items-center justify-center gap-2 cursor-pointer",onClick:d=>{d.stopPropagation(),a(`/${l}/products/${t.id}/`)},children:[e.jsx(ae,{className:"w-4 h-4"}),"View Details"]})})]})]},t.id):e.jsx("div",{className:`group bg-white/80 backdrop-blur-sm rounded-2xl border-2 p-4 transition-all duration-300 hover:shadow-lg ${r?"border-red-200/60 opacity-70":"border-slate-200/60 hover:border-blue-300/60"}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"w-full md:w-32 h-32 bg-gradient-to-br from-slate-50 to-blue-50/50 rounded-xl overflow-hidden flex-shrink-0",children:e.jsx("img",{src:K(t),alt:s==null?void 0:s.name,className:"w-full h-full object-contain p-3"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded",children:s==null?void 0:s.brand_name}),!(s!=null&&s.is_active)&&e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold",children:"Inactive"}),r&&e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold",children:"Out of Stock"}),t.is_featured&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"}),"Featured"]}),g&&e.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:[v,"% OFF"]}),$&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold",children:["GST ",w,"%"]})]}),e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-1",children:s==null?void 0:s.name}),(s==null?void 0:s.short_description)&&e.jsx("p",{className:"text-slate-600 mb-3 line-clamp-2",children:s.short_description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-600",children:[e.jsxs("span",{className:"font-mono bg-slate-100 px-2 py-1 rounded",children:["SKU: ",s==null?void 0:s.sku]}),e.jsxs("span",{children:["Category: ",s==null?void 0:s.category_name]}),(f==null?void 0:f.name)&&e.jsxs("span",{children:["Variant: ",f.name]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["â‚¹",j.toFixed(2)]}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-sm text-slate-400 line-through",children:["â‚¹",N.toFixed(2)]}),e.jsxs("div",{className:"text-xs text-green-600 font-medium",children:["You save â‚¹",(N-j).toFixed(2)]})]}),(l==="stockist"||l==="reseller")&&e.jsxs("div",{className:"text-xs text-green-600 font-medium",children:[l," pricing applied"]}),e.jsx("div",{className:`mt-1 px-2 py-1 rounded-lg text-xs font-semibold ${r?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r?"Out of Stock":`${h} available`})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-200 transition-all duration-200 flex items-center gap-2 cursor-pointer",onClick:d=>{d.stopPropagation(),a(`/${l}/products/${t.id}/`)},children:[e.jsx(ae,{className:"w-4 h-4"}),"Details"]}),e.jsxs("button",{onClick:d=>{d.stopPropagation(),W(t)},disabled:!(s!=null&&s.is_active)||r,className:`px-4 py-2 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center gap-2 ${!(s!=null&&s.is_active)||r?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600 shadow-sm shadow-blue-500/25 cursor-pointer"}`,children:[e.jsx(le,{className:"w-4 h-4"}),"Add to Cart"]})]})]})]})})]})},t.id)})}):e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"max-w-md mx-auto bg-white/80 backdrop-blur-sm rounded-2xl p-12 border border-slate-200/60 shadow-sm",children:[e.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(U,{className:"w-10 h-10 text-slate-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-3",children:"No products found"}),e.jsx("p",{className:"text-slate-600 mb-8",children:A?"Try adjusting your search or filter criteria to find what you're looking for.":"Get started by adding your first product to the catalog."}),A&&e.jsx("button",{onClick:Z,className:"bg-blue-500 text-white px-8 py-3 rounded-xl font-semibold hover:bg-blue-600 transition-all duration-200 shadow-sm shadow-blue-500/25 cursor-pointer",children:"Clear all filters"})]})})})]})})};export{Be as default};
