import{r as M,a as O,bT as U,j as e}from"./index-0HRytCPr.js";import{L as V,D as q,C as H,B as Y,A as z,a as G,b as J,p as Q,c as Z,d as K,e as X}from"./index-CGWqyz8P.js";import{N as h,a7 as j,y as R,D as u,t as y,F as v,g as D,W as ee,I as se,J as re}from"./index--WZidvUd.js";H.register(Y,z,G,J,Q,Z,K,X);const P=({title:i,value:c,icon:a,color:s,navigateTo:t,loading:x=!1,isCurrency:g=!1,trend:d,subtitle:m})=>{const p=O(),b=n=>{if(x)return"--";if(g){const o=typeof n=="string"?parseFloat(n.replace("₹","")):n;return`₹${(o==null?void 0:o.toLocaleString("en-IN"))||0}`}return(n==null?void 0:n.toLocaleString("en-IN"))||0};return e.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 p-6 shadow-xs hover:shadow-lg transition-all duration-300 cursor-pointer hover:border-blue-200 hover:translate-y-[-4px] relative overflow-hidden",onClick:()=>t&&p(t),children:[e.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${s.replace("text-","bg-")}`}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:i}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:b(c)}),m&&e.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-1",children:[d>0?e.jsx(se,{className:"text-green-500"}):d<0?e.jsx(re,{className:"text-red-500"}):null,m]})]}),e.jsx("div",{className:`p-3 rounded-xl ${s} bg-opacity-10 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(a,{className:`text-2xl ${s}`})})]}),x&&e.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-80 flex items-center justify-center rounded-2xl",children:e.jsx(v,{className:"animate-spin text-blue-500 text-xl"})})]})},W=()=>e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 animate-pulse",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-3"}),e.jsx("div",{className:"h-7 bg-gray-300 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]}),e.jsx("div",{className:"p-3 rounded-xl bg-gray-200",children:e.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"})})]})}),f=({title:i,subtitle:c,action:a,children:s,className:t=""})=>e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-100 p-6 shadow-xs hover:shadow-lg transition-all duration-300 ${t}`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:i}),c&&e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:c})]}),a&&e.jsxs("button",{className:"bg-gray-50 hover:bg-gray-100 text-gray-700 px-4 py-2 rounded-xl transition-colors duration-200 text-sm font-medium flex items-center gap-2 border border-gray-200",onClick:a.onClick,children:[a.icon&&e.jsx(a.icon,{className:"text-sm"}),a.label]})]}),s]}),ie=()=>{var N,w,C,T,k,_,S,A,E,I,B,F,L,$;const[i,c]=M.useState("today"),a=O(),{data:s,isLoading:t,error:x,refetch:g}=U(i),d=r=>({today:"Today",weekly:"This Week",monthly:"This Month",yearly:"This Year"})[r]||"Today",m=[{title:"Wallet Balance",value:((N=s==null?void 0:s.wallet)==null?void 0:N.current_balance)||0,icon:h,color:"text-blue-600",navigateTo:"/reseller/wallet",loading:t,isCurrency:!0,subtitle:"Available funds"},{title:"Commission Balance",value:((w=s==null?void 0:s.wallet)==null?void 0:w.commission_balance)||0,icon:j,color:"text-green-600",navigateTo:"/reseller/wallet",loading:t,isCurrency:!0,subtitle:"Earned commissions"},{title:`${d(i)} Sales`,value:((C=s==null?void 0:s.other)==null?void 0:C.total_sales)||0,icon:R,color:"text-purple-600",navigateTo:"/reseller/customer-purchases",loading:t,isCurrency:!0,subtitle:"Total revenue"},{title:`${d(i)} Orders`,value:((T=s==null?void 0:s.order)==null?void 0:T.total_orders)||0,icon:u,color:"text-orange-600",navigateTo:"/reseller/customer-purchases",loading:t,subtitle:"Customer orders"}],p=[{title:"Total Products",value:((k=s==null?void 0:s.product)==null?void 0:k.total_product)||0,icon:y,color:"text-indigo-600",navigateTo:"/reseller/my-stocks",loading:t,subtitle:"In catalog"},{title:"Active Products",value:((_=s==null?void 0:s.product)==null?void 0:_.active_product)||0,icon:y,color:"text-green-600",navigateTo:"/reseller/my-stocks",loading:t,subtitle:"Available for sale"},{title:"Pending Orders",value:((S=s==null?void 0:s.order)==null?void 0:S.pending)||0,icon:u,color:"text-yellow-600",navigateTo:"/reseller/my-orders",loading:t,subtitle:"Awaiting processing"},{title:"Delivered Orders",value:((A=s==null?void 0:s.order)==null?void 0:A.delivered)||0,icon:u,color:"text-teal-600",navigateTo:"/reseller/my-orders",loading:t,subtitle:"Completed"}],b={labels:["Pending","Processing","Delivered"],datasets:[{data:[((E=s==null?void 0:s.order)==null?void 0:E.pending)||0,((I=s==null?void 0:s.order)==null?void 0:I.dispatching)||0,((B=s==null?void 0:s.order)==null?void 0:B.delivered)||0],backgroundColor:["rgba(245, 158, 11, 0.9)","rgba(59, 130, 246, 0.9)","rgba(16, 185, 129, 0.9)"],borderWidth:0,hoverOffset:12}]},n={labels:((F=s==null?void 0:s.sales_summary)==null?void 0:F.days)||["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Sales (₹)",data:((L=s==null?void 0:s.sales_summary)==null?void 0:L.amounts)||[12e3,19e3,15e3,25e3,22e3,3e4,28e3],borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:3,tension:.4,fill:!0,pointBackgroundColor:"#8b5cf6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},o={maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:20,font:{size:12}}}}};return x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center bg-white rounded-2xl p-8 shadow-lg border border-gray-200 max-w-md w-full",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(R,{className:"text-2xl text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't load your dashboard data. Please try again later."}),e.jsx("button",{onClick:g,className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium",children:"Try Again"})]})}):e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"bg-white ",children:e.jsx("div",{className:"max-w-8xl mx-auto py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center py-6 gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Dashboard Overview"}),t&&e.jsx(v,{className:"animate-spin text-blue-500"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:s!=null&&s.date_range?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d(i)," • ",new Date(s.date_range.start).toLocaleDateString()," - ",new Date(s.date_range.end).toLocaleDateString()]}):"Welcome back! Here's your business overview."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"}),e.jsxs("select",{className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white shadow-xs transition-all duration-200 hover:border-gray-400 appearance-none",value:i,onChange:r=>c(r.target.value),disabled:t,children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"weekly",children:"This Week"}),e.jsx("option",{value:"monthly",children:"This Month"}),e.jsx("option",{value:"yearly",children:"This Year"})]})]}),e.jsx("button",{onClick:g,disabled:t,className:"p-2.5 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50",children:e.jsx(v,{className:`text-gray-600 text-lg ${t?"animate-spin":""}`})})]})]})})}),e.jsxs("div",{className:"max-w-8xl mx-auto py-2",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:t?Array(4).fill(0).map((r,l)=>e.jsx(W,{},l)):m.map((r,l)=>e.jsx(P,{...r},l))}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:t?Array(4).fill(0).map((r,l)=>e.jsx(W,{},l)):p.map((r,l)=>e.jsx(P,{...r},l))}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-8",children:[e.jsx(f,{title:"Sales Trend",subtitle:"Revenue overview for the current period",action:{label:"View Report",icon:j,onClick:()=>a("/reseller/customer-purchases")},children:e.jsx("div",{className:"h-72",children:e.jsx(V,{data:n,options:{...o,plugins:{...o.plugins,legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,callbacks:{label:r=>`₹${r.parsed.y.toLocaleString("en-IN")}`}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1},ticks:{callback:r=>`₹${r.toLocaleString("en-IN")}`}},x:{grid:{display:!1}}}}})})}),e.jsx(f,{title:"Orders Distribution",subtitle:"Current order status breakdown",action:{label:"View All",icon:u,onClick:()=>a("/reseller/my-order-request")},children:e.jsx("div",{className:"h-72",children:e.jsx(q,{data:b,options:{...o,cutout:"60%",plugins:{...o.plugins,tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12}}}})})})]}),e.jsx(f,{title:"Recent Activity",subtitle:"Latest wallet transactions and updates",action:{label:"View All",icon:ee,onClick:()=>a("/reseller/my-wallet")},children:e.jsxs("div",{className:"space-y-3",children:[($=s==null?void 0:s.recent)==null?void 0:$.map((r,l)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-blue-200 hover:bg-blue-50/50 transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${r.transaction_type==="DEBIT"?"bg-blue-100 text-blue-600":r.transaction_type==="CREDIT"?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"}`,children:r.transaction_type==="DEBIT"?e.jsx(h,{}):r.transaction_type==="CREDIT"?e.jsx(j,{}):e.jsx(y,{})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900",children:r.description}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.created_at})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm font-semibold ${r.transaction_type==="DEBIT"?"text-red-600":"text-green-600"}`,children:[r.transaction_type==="DEBIT"?"-":"+","₹",r.amount]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r.transaction_type==="DEBIT"?"bg-red-100 text-red-800":r.transaction_type==="CREDIT"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:r.transaction_type})]})]},l)),(!(s!=null&&s.recent)||s.recent.length===0)&&!t&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(h,{className:"text-3xl mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No recent activity"})]}),t&&e.jsx("div",{className:"space-y-3",children:Array(3).fill(0).map((r,l)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-gray-100 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})]})]},l))})]})})]})]})};export{ie as default};
