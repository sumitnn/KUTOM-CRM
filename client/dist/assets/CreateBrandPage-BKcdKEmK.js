import{r,j as e,bo as y,y as j}from"./index-oHO_bMXB.js";const N=({onSubmit:i,onCancel:n,loading:d=!1,resetTrigger:c})=>{const[l,o]=r.useState(""),[s,m]=r.useState(""),[x,g]=r.useState(null),[p,b]=r.useState(null),[h,f]=r.useState(!0),v=t=>{const a=t.target.files[0];if(g(a),a){const u=new FileReader;u.onloadend=()=>b(u.result),u.readAsDataURL(a)}},w=t=>{if(t.preventDefault(),!l.trim())return alert("Brand name is required");const a=new FormData;a.append("name",l),a.append("description",s),a.append("is_active",h),x&&a.append("logo",x),i(a)};return r.useEffect(()=>{o(""),m(""),g(null),b(null),f(!0)},[c]),e.jsxs("form",{onSubmit:w,className:"bg-white shadow-xl rounded-lg p-6 max-w-lg w-full mx-auto space-y-6",children:[e.jsx("h2",{className:"text-2xl font-extrabold text-gray-800",children:"Create Brand"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p?e.jsx("img",{src:p,alt:"Logo Preview",className:"w-24 h-24 rounded-full object-cover border"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500",children:"Logo"}),e.jsx("input",{type:"file",accept:"image/*",className:"file-input file-input-bordered w-full max-w-xs",onChange:v})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-bold",children:"Brand Name *"})}),e.jsx("input",{type:"text",placeholder:"Enter brand name",className:"input input-bordered w-full",value:l,onChange:t=>o(t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-bold",children:"Description"})}),e.jsx("textarea",{placeholder:"Enter description (optional)",className:"textarea textarea-bordered w-full",value:s,onChange:t=>m(t.target.value)})]}),e.jsxs("div",{className:"flex items-center justify-between border rounded-lg px-4 py-3 bg-gray-50 hover:shadow-sm transition",children:[e.jsx("label",{htmlFor:"visible",className:"text-sm font-medium text-gray-700",children:"Show this brand as visible"}),e.jsx("input",{id:"visible",type:"checkbox",className:"toggle toggle-primary",checked:h,onChange:t=>f(t.target.checked)})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[n&&e.jsx("button",{type:"button",className:"btn btn-ghost",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",className:`btn btn-primary ${d?"loading":""}`,children:"Create Brand"})]})]})},C=()=>{const[i,{isLoading:n}]=y(),[d,c]=r.useState(0),l=async o=>{try{await i(o).unwrap(),j.success("New Brand Added Successfully"),c(s=>s+1)}catch(s){console.error(s.data),j.error(s.data.message)}};return e.jsx(N,{onSubmit:l,loading:n,resetTrigger:d})};export{C as default};
