import{r as l,j as e,L as x,y as o}from"./index-0HRytCPr.js";import{m as t}from"./proxy-BmeAfvST.js";const w=()=>{const[d,b]=l.useState(""),[h,f]=l.useState(!1),[a,c]=l.useState(!1),y=async r=>{r.preventDefault(),c(!0);try{const i=await fetch("https://api.stocktn.com/api/forgot-password/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d})}),p=await i.json();i.ok?(f(!0),o.success(p.detail||"Reset link sent. Please check your email.")):o.error(p.detail||"Failed to send reset link.")}catch(i){o.error("Something went wrong. Please try again."),console.error("Forgot password error:",i)}finally{c(!1)}},m={animate:{y:[0,-25,0],x:[0,15,0],transition:{duration:8,repeat:1/0,ease:"easeInOut"}}},n={animate:{scale:[1,1.15,1],opacity:[.2,.5,.2],transition:{duration:6,repeat:1/0,ease:"easeInOut"}}},g={animate:{rotate:[0,360],transition:{duration:25,repeat:1/0,ease:"linear"}}},u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 relative overflow-hidden",children:[e.jsx(t.div,{className:"absolute top-20 left-10 w-16 h-16 bg-blue-300 rounded-full blur-xl opacity-40",variants:m,animate:"animate"}),e.jsx(t.div,{className:"absolute bottom-32 right-20 w-20 h-20 bg-purple-300 rounded-full blur-xl opacity-30",variants:m,animate:"animate",style:{animationDelay:"2s"}}),e.jsx(t.div,{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-indigo-200 rounded-full blur-2xl opacity-20",variants:n,animate:"animate"}),e.jsx(t.div,{className:"absolute top-1/3 right-16 w-12 h-12 bg-teal-300 rounded-full blur-lg opacity-50",variants:g,animate:"animate"}),e.jsx(t.div,{className:"absolute -top-32 -left-32 w-80 h-80 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full opacity-10 blur-3xl",variants:n,animate:"animate"}),e.jsx(t.div,{className:"absolute -bottom-40 -right-32 w-96 h-96 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full opacity-10 blur-3xl",variants:n,animate:"animate",style:{animationDelay:"3s"}}),e.jsx(t.div,{className:"max-w-md w-full p-8 bg-white shadow-2xl rounded-3xl relative z-10",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:e.jsxs(t.div,{variants:u,initial:"hidden",animate:"visible",children:[e.jsxs(t.div,{variants:s,className:"text-center mb-8",children:[e.jsx(t.h2,{className:"text-3xl font-bold text-gray-800 mb-3",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:"Forgot Password"}),e.jsx("p",{className:"text-gray-600",children:"Enter your email to reset your password"})]}),h?e.jsxs(t.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center space-y-4",children:[e.jsx(t.div,{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:.6},children:e.jsx("span",{className:"text-2xl",children:"✅"})}),e.jsx("p",{className:"text-green-600 font-semibold text-lg",children:"Reset link sent successfully!"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Check your email for the password reset link"}),e.jsx(t.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-4",children:e.jsx(x,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-semibold underline",children:"Back to Login"})})]}):e.jsxs(t.form,{onSubmit:y,className:"space-y-6",variants:u,children:[e.jsxs(t.div,{variants:s,className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-bold text-gray-700 mb-2 text-lg",children:"Email Address"})}),e.jsx(t.input,{type:"email",placeholder:"Enter your email address",className:"input input-bordered w-full text-lg py-3 px-4 border-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-300",value:d,onChange:r=>b(r.target.value),required:!0,disabled:a,whileFocus:{scale:1.02,boxShadow:"0 0 0 3px rgba(59, 130, 246, 0.1)"},transition:{type:"spring",stiffness:400}})]}),e.jsx(t.div,{variants:s,className:"pt-2",children:e.jsx(t.button,{type:"submit",className:"btn btn-primary w-full text-lg py-3 font-semibold rounded-xl",disabled:a,whileHover:{scale:a?1:1.02,boxShadow:"0 10px 25px -5px rgba(59, 130, 246, 0.4)"},whileTap:{scale:a?1:.98},transition:{type:"spring",stiffness:400,damping:17},children:a?e.jsxs(t.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Sending Reset Link..."]}):"Send Reset Link"})}),e.jsx(t.div,{variants:s,className:"text-center pt-4",children:e.jsx(t.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(x,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm",children:"← Back to Login"})})})]})]})})]})};export{w as default};
