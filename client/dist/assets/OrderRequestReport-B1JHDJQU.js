import{r as i,Q as ie,U as ce,V as de,j as e}from"./index-oHO_bMXB.js";import{S as ue,a as me,b as xe,u as he,s as ge,i as pe,c as fe,d as ye,e as be,f as ve,g as je,h as X,j as we,k as K,l as Ne,m as D,R as ke,B as Pe,C as Oe,X as Se,Y as _e,T as De,n as U,F as Ce}from"./FileSaver.min-CVl68mvK.js";import{f as y}from"./format-PgvnqH7J.js";import{r as Me}from"./index-DsfZBStp.js";import"./addDays-RjdodTT7.js";import"./en-US-CEmq6YZe.js";import"./index-CnyDuYXe.js";function z(){return z=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},z.apply(null,arguments)}function Q(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),a.push.apply(a,s)}return a}function Ee(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Q(Object(a),!0).forEach(function(s){I(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function I(t,r,a){return(r=Le(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Le(t){var r=ze(t,"string");return typeof r=="symbol"?r:r+""}function ze(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var b=32;class R extends i.PureComponent{renderIcon(r,a){var{inactiveColor:s}=this.props,l=b/2,c=b/6,u=b/3,m=r.inactive?s:r.color,x=a??r.type;if(x==="none")return null;if(x==="plainline")return i.createElement("line",{strokeWidth:4,fill:"none",stroke:m,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:l,x2:b,y2:l,className:"recharts-legend-icon"});if(x==="line")return i.createElement("path",{strokeWidth:4,fill:"none",stroke:m,d:"M0,".concat(l,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(l,`
            H`).concat(b,"M").concat(2*u,",").concat(l,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(l),className:"recharts-legend-icon"});if(x==="rect")return i.createElement("path",{stroke:"none",fill:m,d:"M0,".concat(b/8,"h").concat(b,"v").concat(b*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(r.legendIcon)){var p=Ee({},r);return delete p.legendIcon,i.cloneElement(r.legendIcon,p)}return i.createElement(ue,{fill:m,cx:l,cy:l,size:b,sizeType:"diameter",type:x})}renderItems(){var{payload:r,iconSize:a,layout:s,formatter:l,inactiveColor:c,iconType:u}=this.props,m={x:0,y:0,width:b,height:b},x={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((d,v)=>{var N=d.formatter||l,f=ie({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:d.inactive});if(d.type==="none")return null;var k=d.inactive?c:d.color,h=N?N(d.value,d,v):d.value;return i.createElement("li",z({className:f,style:x,key:"legend-item-".concat(v)},me(this.props,d,v)),i.createElement(xe,{width:a,height:a,viewBox:m,style:p,"aria-label":"".concat(h," legend icon")},this.renderIcon(d,u)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},h))})}render(){var{payload:r,layout:a,align:s}=this.props;if(!r||!r.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}I(R,"displayName","Legend");I(R,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});function Ae(){return he(ge)}var Ie=["contextPayload"];function A(){return A=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},A.apply(null,arguments)}function G(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),a.push.apply(a,s)}return a}function w(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?G(Object(a),!0).forEach(function(s){B(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function B(t,r,a){return(r=Re(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Re(t){var r=Be(t,"string");return typeof r=="symbol"?r:r+""}function Be(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Fe(t,r){if(t==null)return{};var a,s,l=We(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(s=0;s<c.length;s++)a=c[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(l[a]=t[a])}return l}function We(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function He(t){return t.value}function Te(t){var{contextPayload:r}=t,a=Fe(t,Ie),s=Ne(r,t.payloadUniqBy,He),l=w(w({},a),{},{payload:s});return i.isValidElement(t.content)?i.cloneElement(t.content,l):typeof t.content=="function"?i.createElement(t.content,l):i.createElement(R,l)}function Ve(t,r,a,s,l,c){var{layout:u,align:m,verticalAlign:x}=r,p,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(m==="center"&&u==="vertical"?p={left:((s||0)-c.width)/2}:p=m==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(x==="middle"?d={top:((l||0)-c.height)/2}:d=x==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),w(w({},p),d)}function $e(t){var r=X();return i.useEffect(()=>{r(we(t))},[r,t]),null}function qe(t){var r=X();return i.useEffect(()=>(r(K(t)),()=>{r(K({width:0,height:0}))}),[r,t]),null}function Ke(t){var r=Ae(),a=fe(),s=ye(),{width:l,height:c,wrapperStyle:u,portal:m}=t,[x,p]=be([r]),d=ve(),v=je(),N=d-(s.left||0)-(s.right||0),f=C.getWidthOrHeight(t.layout,c,l,N),k=m?u:w(w({position:"absolute",width:(f==null?void 0:f.width)||l||"auto",height:(f==null?void 0:f.height)||c||"auto"},Ve(u,t,s,d,v,x)),u),h=m??a;if(h==null)return null;var S=i.createElement("div",{className:"recharts-legend-wrapper",style:k,ref:p},i.createElement($e,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),i.createElement(qe,{width:x.width,height:x.height}),i.createElement(Te,A({},t,f,{margin:s,chartWidth:d,chartHeight:v,contextPayload:r})));return Me.createPortal(S,h)}class C extends i.PureComponent{static getWidthOrHeight(r,a,s,l){return r==="vertical"&&pe(a)?{height:a}:r==="horizontal"?{width:s||l}:null}render(){return i.createElement(Ke,this.props)}}B(C,"displayName","Legend");B(C,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});const et=()=>{var q;const t=new Date,[r,a]=i.useState({startDate:y(D(t,2),"yyyy-MM-dd"),endDate:y(t,"yyyy-MM-dd")}),[s,l]=i.useState(""),[c,u]=i.useState(1),[m,x]=i.useState(10),[p,d]=i.useState("last_3_days"),[v,N]=i.useState(""),[f,k]=i.useState("approved"),{data:h,isLoading:S,isError:F,refetch:W}=ce({range:p,search:s,startDate:r.startDate,endDate:r.endDate,status:f}),[Y]=de(),Z=n=>{if(!n)return"N/A";try{const o=new Date(n);return isNaN(o.getTime())?"Invalid Date":y(o,"dd MMM yyyy HH:mm")}catch{return"Invalid Date"}},_=n=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(n||0),H=n=>({pending:"#f59e0b",approved:"#10b981",rejected:"#ef4444",cancelled:"#6b7280"})[n]||"#6b7280",M=n=>({pending:"Pending",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled"})[n]||n,T=n=>{const{name:o,value:g}=n.target;a(oe=>({...oe,[o]:g})),u(1),d("custom")},J=n=>{d(n),u(1);const o=new Date;switch(n){case"today":a({startDate:y(o,"yyyy-MM-dd"),endDate:y(o,"yyyy-MM-dd")});break;case"last_3_days":a({startDate:y(D(o,2),"yyyy-MM-dd"),endDate:y(o,"yyyy-MM-dd")});break;case"this_week":a({startDate:y(D(o,6),"yyyy-MM-dd"),endDate:y(o,"yyyy-MM-dd")});break;case"last_month":a({startDate:y(D(o,30),"yyyy-MM-dd"),endDate:y(o,"yyyy-MM-dd")});break}},ee=n=>{k(n),u(1)},te=n=>{x(Number(n.target.value)),u(1)},re=async()=>{try{const n=await Y({range:p,search:s,startDate:r.startDate,endDate:r.endDate,status:f}).unwrap(),o=new Blob([n],{type:"text/csv"}),g=`order_requests_report_${r.startDate}_to_${r.endDate}.csv`;Ce.saveAs(o,g)}catch(n){console.error("Export failed:",n)}},V={primary:"#3b82f6",secondary:"#10b981"},P=(h==null?void 0:h.order_requests)||[],E=c*m,$=E-m,L=P.slice($,E),j=Math.ceil(P.length/m),O=(h==null?void 0:h.summary)||{total_requests:0,total_sales_amount:0,total_items_quantity:0,average_order_value:0,approval_rate:0},ae=((q=h==null?void 0:h.charts)==null?void 0:q.status_distribution)||[],se=n=>u(n),ne=()=>u(n=>Math.min(n+1,j)),le=()=>u(n=>Math.max(n-1,1));return e.jsx("div",{className:"min-h-screen ",children:e.jsxs("div",{className:"max-w-8xl mx-auto py-4 ",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Requests Report"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Track and analyze your order requests and sales performance"})]}),e.jsx("div",{className:"mt-4 lg:mt-0 flex flex-col sm:flex-row gap-3",children:e.jsxs("button",{onClick:re,className:"px-6 py-2.5 cursor-pointer bg-green-600 text-white rounded-xl hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors duration-200 font-medium shadow-sm flex items-center gap-2",children:[e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-2xl shadow-lg text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Requests"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:O.total_requests||0})]}),e.jsx("div",{className:"p-3 bg-blue-400/20 rounded-xl",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-2xl shadow-lg text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Total Sales"}),e.jsx("p",{className:"text-2xl font-bold mt-2",children:_(O.total_sales_amount)})]}),e.jsx("div",{className:"p-3 bg-green-400/20 rounded-xl",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-6 rounded-2xl shadow-lg text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Items"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:O.total_items_quantity||0})]}),e.jsx("div",{className:"p-3 bg-purple-400/20 rounded-xl",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-6 rounded-2xl shadow-lg text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Avg Order Value"}),e.jsx("p",{className:"text-2xl font-bold mt-2",children:_(O.average_order_value)})]}),e.jsx("div",{className:"p-3 bg-orange-400/20 rounded-xl",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-cyan-500 to-cyan-600 p-6 rounded-2xl shadow-lg text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-cyan-100 text-sm font-medium",children:"Approval Rate"}),e.jsxs("p",{className:"text-3xl font-bold mt-2",children:[O.approval_rate||0,"%"]})]}),e.jsx("div",{className:"p-3 bg-cyan-400/20 rounded-xl",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"today",label:"Today"},{key:"last_3_days",label:"Last 3 Days"},{key:"this_week",label:"This Week"},{key:"last_month",label:"Last Month"}].map(({key:n,label:o})=>e.jsx("button",{onClick:()=>J(n),className:`px-3 py-1.5 rounded-lg cursor-pointer text-sm font-medium transition-all duration-200 ${p===n?"bg-blue-600 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",name:"startDate",className:"w-full px-3 py-2.5 cursor-pointer border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:r.startDate,onChange:T})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",name:"endDate",className:"w-full px-3 py-2.5 border cursor-pointer border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:r.endDate,onChange:T,min:r.startDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{className:"w-full px-3 py-2.5 cursor-pointer border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:f,onChange:n=>ee(n.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Items per page"}),e.jsxs("select",{className:"w-full px-3 py-2.5 cursor-pointer border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:m,onChange:te,children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:()=>W(),className:"w-full px-4 py-2.5 cursor-pointer bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors duration-200 font-medium flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-8 mb-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status Distribution"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Count & Sales Amount"})]}),e.jsx("div",{className:"h-80",children:e.jsx(ke,{width:"100%",height:"100%",children:e.jsxs(Pe,{data:ae,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(Oe,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(Se,{dataKey:"status",tickFormatter:n=>M(n),stroke:"#6b7280",fontSize:12}),e.jsx(_e,{stroke:"#6b7280",fontSize:12}),e.jsx(De,{formatter:(n,o)=>[o==="sales_amount"?_(n):n,o==="sales_amount"?"Sales Amount":"Count"],labelFormatter:n=>`Status: ${M(n)}`}),e.jsx(C,{}),e.jsx(U,{dataKey:"count",name:"Request Count",fill:V.primary,radius:[4,4,0,0]}),e.jsx(U,{dataKey:"sales_amount",name:"Sales Amount",fill:V.secondary,radius:[4,4,0,0]})]})})})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[S&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading order requests data..."})]}),F&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to load order requests"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please check your connection and try again"}),e.jsx("button",{onClick:W,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Retry"})]}),!S&&!F&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Requests Details"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[P.length," records found ",s&&`for "${s}"`]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested By"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.length>0?L.map(n=>{var o,g;return e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.request_id})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:(o=n.requested_by)==null?void 0:o.name}),e.jsx("div",{className:"text-sm text-gray-500",children:(g=n.requested_by)==null?void 0:g.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:n.requestor_type}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:[n.target_type,n.target_user&&e.jsx("div",{className:"text-xs text-gray-500",children:n.target_user.name})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize",style:{backgroundColor:`${H(n.status)}20`,color:H(n.status)},children:M(n.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:_(n.total_amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.total_quantity}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z(n.created_at)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:n.note||"-"})]},n.id)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:"9",className:"px-6 py-12 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No order requests found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search terms"})]})})})]})}),L.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:$+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(E,P.length)})," of"," ",e.jsx("span",{className:"font-medium",children:P.length})," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:le,disabled:c===1,className:"px-3 py-1.5 rounded-lg border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,j)},(n,o)=>{let g;return j<=5||c<=3?g=o+1:c>=j-2?g=j-4+o:g=c-2+o,e.jsx("button",{onClick:()=>se(g),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors duration-200 ${c===g?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:g},g)})}),e.jsx("button",{onClick:ne,disabled:c===j,className:"px-3 py-1.5 rounded-lg border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Next"})]})]})})]})]})]})})};export{et as default};
