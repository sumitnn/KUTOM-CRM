import{r as h,R as u,j as e,y as l}from"./index-0HRytCPr.js";import{b as j,z as f,W as m}from"./index--WZidvUd.js";import{M as N}from"./ModalPortal-Boos_dt6.js";import"./index-D-omREhy.js";const P=({product:i,isOpen:d,onClose:t,onSave:o})=>{var n;const[s,c]=h.useState({admin_price:"",stockist_price:"",reseller_price:""});if(u.useEffect(()=>{i&&c({admin_price:i.price||"",stockist_price:i.stockist_price||"",reseller_price:i.reseller_price||""})},[i]),!d)return null;const p=r=>{if(r.preventDefault(),!s.admin_price||s.admin_price<=0){l.error("Please enter a valid admin price");return}if(!s.stockist_price||s.stockist_price<=0){l.error("Please enter a valid stockist price");return}if(!s.reseller_price||s.reseller_price<=0){l.error("Please enter a valid reseller price");return}if(parseFloat(s.admin_price)<=parseFloat(s.stockist_price)){l.error("Admin price must be higher than stockist price");return}if(parseFloat(s.stockist_price)<=parseFloat(s.reseller_price)){l.error("Stockist price must be higher than reseller price");return}o({admin_price:parseFloat(s.admin_price),stockist_price:parseFloat(s.stockist_price),reseller_price:parseFloat(s.reseller_price)})},a=(r,x)=>{c(b=>({...b,[r]:x}))};return e.jsx(N,{children:e.jsx("div",{className:"modal modal-open",children:e.jsxs("div",{className:"modal-box max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold",children:["Edit Prices - ",(n=i==null?void 0:i.product_detail)==null?void 0:n.name]}),e.jsx("button",{onClick:t,className:"btn btn-sm btn-circle",children:e.jsx(j,{})})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text font-semibold flex items-center gap-2",children:[e.jsx(f,{className:"text-blue-600"}),"Admin Price (₹)"]})}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"input input-bordered",value:s.admin_price,onChange:r=>a("admin_price",r.target.value),required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text font-semibold flex items-center gap-2",children:[e.jsx(m,{className:"text-green-600"}),"Stockist Price (₹)"]})}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"input input-bordered",value:s.stockist_price,onChange:r=>a("stockist_price",r.target.value),required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text font-semibold flex items-center gap-2",children:[e.jsx(m,{className:"text-purple-600"}),"Reseller Price (₹)"]})}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"input input-bordered",value:s.reseller_price,onChange:r=>a("reseller_price",r.target.value),required:!0})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Price Hierarchy:"}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Admin Price:"}),e.jsx("span",{className:"font-bold",children:"Highest"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Stockist Price:"}),e.jsx("span",{className:"font-bold",children:"Middle"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Reseller Price:"}),e.jsx("span",{className:"font-bold",children:"Lowest"})]})]})]}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{type:"button",onClick:t,className:"btn btn-ghost",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update Prices"})]})]})]})})})};export{P as default};
