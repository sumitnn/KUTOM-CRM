import{r as B,a as q,bT as U,j as e}from"./index-oHO_bMXB.js";import{L as Y,D as G,P as H,C as J,B as Q,A as Z,a as K,b as X,p as D,c as ee,d as te,e as se,i as re}from"./index-DuFE4DpJ.js";import{t as u,y as W,D as p,N as M,F as z,g as le,a7 as ne,W as ae,I as oe,J as ie}from"./index-DCVWk_eg.js";J.register(Q,Z,K,X,D,ee,te,se,re);const O=({title:n,value:d,icon:j,color:m,navigateTo:a,loading:t=!1,isCurrency:r=!1,trend:c,trendValue:g,duration:x="this month"})=>{const h=q(),f=l=>{if(t)return"---";if(r){const o=typeof l=="string"?parseFloat(l.replace("₹","")):l;return`₹${(o==null?void 0:o.toLocaleString("en-IN"))||0}`}return(l==null?void 0:l.toLocaleString("en-IN"))||0},b=l=>l==="up"?"text-green-500":"text-red-500",v=l=>l==="up"?e.jsx(oe,{className:"text-sm"}):e.jsx(ie,{className:"text-sm"});return e.jsxs("div",{className:"group bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer border border-gray-100 hover:border-blue-200 relative overflow-hidden",onClick:()=>a&&h(a),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:n}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:f(d)}),c&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:`flex items-center gap-1 text-xs font-medium ${b(c)}`,children:[v(c),g,"%"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["vs ",x]})]})]}),e.jsx("div",{className:`p-3 rounded-xl ${m} bg-opacity-10 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(j,{className:`text-xl ${m.replace("text-","text-")}`})})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:`h-1 rounded-full ${m.replace("text-","bg-")} transition-all duration-1000`,style:{width:t?"50%":"100%"}})})]})]})},de=()=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((n,d)=>e.jsx("div",{className:"bg-gray-200 rounded-2xl p-6 h-32"},d))})}),me=()=>{var o,y,N,w,T,C,k,S,_,A,F,P,$,I,L,R,E,V;const[n,d]=B.useState("today"),[j,m]=B.useState("overview"),a=q(),{data:t,isLoading:r,error:c,refetch:g}=U(n),x=s=>({today:"Today",weekly:"This Week",monthly:"This Month",yearly:"This Year"})[s]||"Today",h=[{title:"Active Products",value:((o=t==null?void 0:t.product)==null?void 0:o.active_product)||0,icon:u,color:"text-green-600",navigateTo:"/vendor/products",loading:r,trend:"up",trendValue:12},{title:`${x(n)} Total Revenue`,value:((y=t==null?void 0:t.other)==null?void 0:y.total_sales)||0,icon:W,color:"text-blue-600",navigateTo:"/vendor/sales-report",loading:r,isCurrency:!0,trend:"up",trendValue:8},{title:"Pending Orders",value:((N=t==null?void 0:t.order)==null?void 0:N.pending)||0,icon:p,color:"text-orange-600",navigateTo:"/vendor/my-sales",loading:r,trend:"down",trendValue:5},{title:"Wallet Balance",value:((w=t==null?void 0:t.wallet)==null?void 0:w.current_balance)||0,icon:M,color:"text-purple-600",navigateTo:"/vendor/my-wallet",loading:r,isCurrency:!0,trend:"up",trendValue:15}],f=[{title:"Total Products",value:((T=t==null?void 0:t.product)==null?void 0:T.total_product)||0,icon:u,color:"text-indigo-600",navigateTo:"/vendor/products",loading:r},{title:"Published",value:((C=t==null?void 0:t.product)==null?void 0:C.published)||0,icon:u,color:"text-emerald-600",navigateTo:"/vendor/requested-products",loading:r},{title:"In Draft",value:((k=t==null?void 0:t.product)==null?void 0:k.draft)||0,icon:u,color:"text-amber-600",navigateTo:"/vendor/requested-products",loading:r},{title:"Approved Orders",value:((S=t==null?void 0:t.order)==null?void 0:S.approved)||0,icon:p,color:"text-cyan-600",navigateTo:"/vendor/my-sales",loading:r}],b={labels:((_=t==null?void 0:t.sales_summary)==null?void 0:_.days)||["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Sales (₹)",data:((A=t==null?void 0:t.sales_summary)==null?void 0:A.amounts)||[0,0,0,0,0,0,0],borderColor:"#6366f1",backgroundColor:"rgba(99, 102, 241, 0.1)",borderWidth:3,tension:.4,fill:!0,pointBackgroundColor:"#6366f1",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},v={labels:["Active","Published","Draft","Inactive"],datasets:[{data:[((F=t==null?void 0:t.product)==null?void 0:F.active_product)||0,((P=t==null?void 0:t.product)==null?void 0:P.published)||0,(($=t==null?void 0:t.product)==null?void 0:$.draft)||0,((I=t==null?void 0:t.product)==null?void 0:I.inactive_product)||0],backgroundColor:["rgba(16, 185, 129, 0.8)","rgba(139, 92, 246, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)"],borderWidth:0,hoverOffset:12}]},l={labels:["Pending","Approved","Delivered"],datasets:[{data:[((L=t==null?void 0:t.order)==null?void 0:L.pending)||0,((R=t==null?void 0:t.order)==null?void 0:R.approved)||0,((E=t==null?void 0:t.order)==null?void 0:E.delivered)||0],backgroundColor:["rgba(245, 158, 11, 0.8)","rgba(16, 185, 129, 0.8)","rgba(59, 130, 246, 0.8)"],borderWidth:0,hoverOffset:12}]};return c?e.jsx("div",{className:"min-h-screen flex items-center justify-center ",children:e.jsxs("div",{className:"text-center bg-white rounded-3xl p-8 shadow-xl border border-gray-200 max-w-md w-full",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(W,{className:"text-3xl text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-3",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your dashboard data. Please try again later."}),e.jsxs("button",{onClick:g,className:"bg-red-600 text-white px-8 py-3 rounded-xl hover:bg-red-700 transition-colors duration-200 font-medium flex items-center gap-2 mx-auto",children:[e.jsx(z,{className:"text-lg"}),"Try Again"]})]})}):e.jsxs("div",{className:"min-h-screen ",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/60 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-8xl mx-auto py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center py-6 gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-600 to-purple-600 rounded-full"}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Vendor Dashboard"})]}),e.jsxs("p",{className:"text-gray-600 text-base flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t!=null&&t.date_range?`Data for ${x(n)} • ${new Date(t.date_range.start).toLocaleDateString()} to ${new Date(t.date_range.end).toLocaleDateString()}`:"Manage your products and track your business performance"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(le,{className:"text-gray-400"})}),e.jsxs("select",{className:"appearance-none  border border-gray-300 rounded-xl pl-10 pr-8 py-2.5 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white shadow-sm transition-all duration-200 hover:border-gray-400 w-full sm:w-40 cursor-pointer",value:n,onChange:s=>d(s.target.value),disabled:r,children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"weekly",children:"This Week"}),e.jsx("option",{value:"monthly",children:"This Month"}),e.jsx("option",{value:"yearly",children:"This Year"})]})]}),e.jsx("button",{onClick:g,disabled:r,className:"bg-white border cursor-pointer  border-gray-300 rounded-xl p-2.5 hover:bg-gray-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(z,{className:`text-gray-600 ${r?"animate-spin":""}`})})]})]})})}),e.jsx("div",{className:"max-w-8xl mx-auto py-4 ",children:r?e.jsx(de,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((s,i)=>e.jsx(O,{...s},i))}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map((s,i)=>e.jsx(O,{...s},i))}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Sales Trend"}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Revenue overview for ",x(n).toLowerCase()]})]}),e.jsxs("button",{className:"bg-gradient-to-r cursor-pointer from-blue-600 to-purple-600 text-white px-4 py-2 rounded-xl hover:shadow-lg transition-all duration-200 text-sm font-medium flex items-center gap-2 group",onClick:()=>a("/vendor/sales-report"),children:["View Report",e.jsx(ne,{className:"text-sm group-hover:translate-x-0.5 transition-transform"})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(Y,{data:b,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:12},bodyFont:{size:14},padding:12,callbacks:{label:function(s){return`₹${s.parsed.y.toLocaleString("en-IN")}`}}}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1},ticks:{callback:function(s){return"₹"+s.toLocaleString("en-IN")}}},x:{grid:{display:!1}}},interaction:{intersect:!1,mode:"nearest"}}})})]}),e.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Product Distribution"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Status overview of your products"})]}),e.jsxs("button",{className:"bg-gradient-to-r cursor-pointer from-green-600 to-emerald-600 text-white px-4 py-2 rounded-xl hover:shadow-lg transition-all duration-200 text-sm font-medium flex items-center gap-2 group",onClick:()=>a("/vendor/products"),children:["Manage",e.jsx(u,{className:"text-sm group-hover:scale-110 transition-transform"})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(G,{data:v,options:{maintainAspectRatio:!1,responsive:!0,cutout:"60%",plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:20,font:{size:12}}}}}})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Order Status"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Current order distribution"})]}),e.jsxs("button",{className:"bg-gradient-to-r cursor-pointer from-orange-600 to-amber-600 text-white px-4 py-2 rounded-xl hover:shadow-lg transition-all duration-200 text-sm font-medium flex items-center gap-2 group",onClick:()=>a("/vendor/my-sales"),children:["View Orders",e.jsx(p,{className:"text-sm group-hover:scale-110 transition-transform"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(H,{data:l,options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:15,font:{size:11}}}}}})})]}),e.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 p-6 shadow-sm hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Activity"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Latest transactions and updates"})]}),e.jsxs("button",{className:"bg-gradient-to-r cursor-pointer from-gray-600 to-slate-600 text-white px-4 py-2 rounded-xl hover:shadow-lg transition-all duration-200 text-sm font-medium flex items-center gap-2 group",onClick:()=>a("/vendor/my-wallet"),children:["View All",e.jsx(ae,{className:"text-sm group-hover:scale-110 transition-transform"})]})]}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:(V=t==null?void 0:t.recent)==null?void 0:V.map((s,i)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:border-blue-200 hover:bg-blue-50 transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.transaction_type==="DEBIT"?"bg-blue-100 text-blue-600":s.transaction_type==="CREDIT"?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"}`,children:s.transaction_type==="DEBIT"?e.jsx(p,{}):e.jsx(M,{})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.description}),e.jsx("p",{className:"text-xs text-gray-500",children:s.created_at})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-sm font-semibold ${s.transaction_type==="CREDIT"?"text-green-600":"text-red-600"}`,children:s.transaction_type==="CREDIT"?`+₹${s.amount}`:`-₹${s.amount}`}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.transaction_type==="DEBIT"?"bg-blue-100 text-blue-800":s.transaction_type==="CREDIT"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:s.transaction_type})]})]},i))})]})]})]})})]})};export{me as default};
