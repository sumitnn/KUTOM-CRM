import{j as e}from"./index-oHO_bMXB.js";import{b as I,j as C,t as w,y as F,a7 as q}from"./index-DCVWk_eg.js";import{M}from"./ModalPortal-CaX2GLzp.js";import"./index-DsfZBStp.js";const K=({product:s,isOpen:S,onClose:$})=>{var n,o,m,x,g,h,b,j,p,N,u,v,f,y,_,k;if(!S||!s)return null;const P=()=>{var i;const a=((i=s.product_detail)==null?void 0:i.images)||[];if(a.length>0){const l=a.find(r=>r.is_default),t=a.find(r=>r.is_featured);return(l==null?void 0:l.image)||(t==null?void 0:t.image)||a[0].image}return"/placeholder.png"},c=(()=>{var a;return((a=s.inventories)==null?void 0:a.reduce((i,l)=>i+(l.total_quantity||0),0))||0})(),d=c<10,D=a=>{var l,t;const i=(l=s.variants_detail)==null?void 0:l.find(r=>r.id===a);if(((t=i==null?void 0:i.product_variant_prices)==null?void 0:t.length)>0){const r=i.product_variant_prices[0];return{admin:`₹${r.actual_price||"0"}`,stockist:`₹${r.stockist_price||"0"}`,reseller:`₹${r.reseller_price||"0"}`}}return{admin:"₹0",stockist:"₹0",reseller:"₹0"}},A=a=>{var i;return(i=s.commission)==null?void 0:i.find(l=>l.variant===a)};return e.jsx(M,{children:e.jsx("div",{className:"modal modal-open",children:e.jsxs("div",{className:"modal-box max-w-7xl max-h-[95vh] overflow-y-auto p-0",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 z-10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Product Details"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["SKU: ",(n=s.product_detail)==null?void 0:n.sku]})]}),e.jsx("button",{onClick:$,className:"btn btn-ghost btn-circle hover:bg-gray-100 transition-colors",children:e.jsx(I,{className:"text-xl"})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("div",{className:"bg-white rounded-lg p-4 mb-4 shadow-sm",children:e.jsx("img",{src:P(),alt:(o=s.product_detail)==null?void 0:o.name,className:"w-full h-80 object-contain"})}),((m=s.product_detail)==null?void 0:m.images)&&s.product_detail.images.length>1&&e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:s.product_detail.images.map((a,i)=>e.jsx("img",{src:a.image,alt:`${s.product_detail.name} ${i+1}`,className:"w-20 h-20 object-cover rounded-lg border-2 border-gray-200 hover:border-blue-500 transition-colors cursor-pointer"},a.id))})]}),e.jsx("div",{className:"card bg-base-100 shadow-sm border",children:e.jsxs("div",{className:"card-body p-6",children:[e.jsxs("h4",{className:"card-title text-lg flex items-center gap-2 mb-4",children:[e.jsx(C,{className:"text-blue-500"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Brand"}),e.jsx("p",{className:"mt-1",children:((x=s.product_detail)==null?void 0:x.brand_name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Category"}),e.jsx("p",{className:"mt-1",children:((g=s.product_detail)==null?void 0:g.category_name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Subcategory"}),e.jsx("p",{className:"mt-1",children:((h=s.product_detail)==null?void 0:h.subcategory_name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Product Type"}),e.jsx("p",{className:"mt-1",children:((b=s.product_detail)==null?void 0:b.product_type_display)||"N/A"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`badge badge-lg ${((j=s.product_detail)==null?void 0:j.status)==="published"?"badge-success":"badge-warning"}`,children:(p=s.product_detail)==null?void 0:p.status_display})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Weight"}),e.jsxs("p",{className:"mt-1",children:[(N=s.product_detail)==null?void 0:N.weight," ",(u=s.product_detail)==null?void 0:u.weight_unit]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Dimensions"}),e.jsx("p",{className:"mt-1",children:((v=s.product_detail)==null?void 0:v.dimensions)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Total Variants"}),e.jsx("p",{className:"mt-1",children:((f=s.variants_detail)==null?void 0:f.length)||0})]})]})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:(y=s.product_detail)==null?void 0:y.name}),e.jsx("p",{className:"text-gray-600 line-clamp-2",children:(_=s.product_detail)==null?void 0:_.short_description})]}),e.jsx("div",{className:`card border-l-4 ${d?"border-l-red-500 bg-red-50":"border-l-green-500 bg-green-50"}`,children:e.jsxs("div",{className:"card-body p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:`text-xl ${d?"text-red-600":"text-green-600"}`}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold",children:"Stock Status"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total available quantity across all variants"})]})]}),e.jsx("span",{className:`badge badge-lg ${d?"badge-error":"badge-success"}`,children:d?"Low Stock":"In Stock"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Total Units:"}),e.jsxs("span",{className:`text-lg font-bold ${d?"text-red-600":"text-green-600"}`,children:[c," units"]})]}),d&&e.jsx("div",{className:"mt-3 p-3 bg-red-100 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center gap-2",children:[e.jsx("span",{children:"⚠️"}),"Stock is running low. Consider restocking."]})})]})]})}),(k=s.variants_detail)==null?void 0:k.map(a=>{var r;const i=D(a.id),l=A(a.id),t=(r=s.inventories)==null?void 0:r.find(T=>T.variant===a.id);return e.jsx("div",{className:"card bg-base-100 shadow-sm border",children:e.jsxs("div",{className:"card-body p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-lg text-gray-900",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",a.sku," | ID: ",a.id]})]}),e.jsx("div",{className:`badge badge-lg ${a.is_active?"badge-success":"badge-error"}`,children:a.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h6",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(F,{className:"text-green-500"}),"Pricing Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-xs text-blue-600 font-semibold uppercase tracking-wide",children:"Admin Price"}),e.jsx("div",{className:"font-bold text-lg text-blue-700",children:i.admin})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-xs text-green-600 font-semibold uppercase tracking-wide",children:"Stockist Price"}),e.jsx("div",{className:"font-bold text-lg text-green-700",children:i.stockist})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"text-xs text-purple-600 font-semibold uppercase tracking-wide",children:"Reseller Price"}),e.jsx("div",{className:"font-bold text-lg text-purple-700",children:i.reseller})]})]})]}),l&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h6",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(q,{className:"text-orange-500"}),"Commission Details"]}),e.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-orange-700 text-xs uppercase",children:"Type"}),e.jsx("p",{className:"font-medium",children:l.commission_type_display})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-orange-700 text-xs uppercase",children:"Reseller"}),e.jsxs("p",{className:"font-medium",children:[l.reseller_commission_value,l.commission_type==="percentage"?"%":"₹"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-orange-700 text-xs uppercase",children:"Stockist"}),e.jsxs("p",{className:"font-medium",children:[l.stockist_commission_value,l.commission_type==="percentage"?"%":"₹"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-orange-700 text-xs uppercase",children:"Admin"}),e.jsxs("p",{className:"font-medium",children:[l.admin_commission_value,l.commission_type==="percentage"?"%":"₹"]})]})]})})]}),t&&e.jsxs("div",{children:[e.jsxs("h6",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(w,{className:"text-indigo-500"}),"Inventory Details"]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Quantity"}),e.jsxs("p",{className:`font-bold ${t.total_quantity<10?"text-red-600":"text-green-600"}`,children:[t.total_quantity," units"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Batch Number"}),e.jsx("p",{className:"font-medium",children:t.batch_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Expiry Date"}),e.jsx("p",{className:"font-medium",children:t.expiry_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-gray-600",children:"Manufacture Date"}),e.jsx("p",{className:"font-medium",children:t.manufacture_date})]})]})})]})]})},a.id)})]})]})})]})})})};export{K as default};
